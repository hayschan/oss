<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:webfeeds="http://webfeeds.org/rss/1.0">
  <title>Hays&#39; Blog</title>
  <icon>https://blog.haysc.tech/images/apple-touch-icon.png</icon>
  <subtitle>这是陈希 Hays Chan 的个人博客 blog，目前是北京大学计算机大三学生，在这会分享日常、科技、编程，还有个人的发展。</subtitle>
  <link href="https://blog.haysc.tech/feed.xml" rel="self"/>
  <link href="https://pubsubhubbub.appspot.com/" rel="hub"/>
  <link href="https://blog.haysc.tech/"/>
  <updated>2021-05-30T14:17:31.241Z</updated>
  <id>https://blog.haysc.tech/</id>
  
  <author>
    <name>Hays Chan | 陈希</name>
    <email>me@haysc.tech</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>

 <webfeeds:cover image="https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/gFn7zm.JPG" />
 <webfeeds:icon>https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/VAlBPs.png</webfeeds:icon>
 <webfeeds:logo>https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/XDzm9G.svg</webfeeds:logo>
 <webfeeds:accentColor>0abab5</webfeeds:accentColor>
 <webfeeds:related layout="card" target="browser"/>

  
  <entry>
    <title>Emby 免费公益服：大量资源、新老剧集【BIG东东推荐的服务器】</title>
    <link href="https://blog.haysc.tech/emby-free-server-movies/"/>
    <id>https://blog.haysc.tech/emby-free-server-movies/</id>
    <published>2020-12-19T07:25:26.000Z</published>
    <updated>2021-05-30T14:17:31.241Z</updated>
    
    <content type="html"><![CDATA[<p>前两天看 BIGDONGDONG 分享了关于一个 <a href="https://www.youtube.com/watch?v=NjUQWgN_hKg">免费的EMBY公益媒体库</a> 的视频，宣称有上万部电影和电视剧：</p><ul><li><strong>免费、免费、免费</strong>，还要什么自行车</li><li>大部分时候<strong>直连</strong>没问题</li><li><strong>上万部</strong>电影、电视剧、动漫，新旧都有</li></ul><p>《后翼棄兵》就是其中一部我最喜欢的，没想到里面也有。最近大火的 BL 剧《到了30岁还是处男，似乎会变成魔法师》也在其中。</p><p>这个服务器使用完全免费，如果其中要付费的话，都是客户端的钱，不是给服务器的钱。另外，如果实在不想付给客户端钱，可以参考 <a href="https://embywiki.911997.xyz">公益服的官方文档</a> 进行破解。</p><blockquote><p><strong>以💰支持</strong></p><p>有能力的话，进行付费吧！这样影片制作者、软件公司才能有钱继续制作更多精品。我现在也在慢慢把以前用过的盗版游戏、软件，逐一补票。</p></blockquote><h2 id="TL-DR">TL; DR</h2><p>一个免费的影视资源库，连接速度快。观看体验良好，支持主流平台。</p><h2 id="资源库内容">资源库内容</h2><h3 id="速度">速度</h3><p>直连在我使用过程里，几乎没有感觉过卡顿。点击影片到开始播放，一般需时不超过 20 秒，速度还是不错的。毕竟不是家里的 NAS，要秒连就过分了。</p><p>剧集封面加载也是<strong>十分迅速</strong>，不会觉得慢，滑动到哪都会立刻加载出来。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/FTMrBR.gif" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/FTMrBR.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="iShot2020-12-19 16.28.16"></p><h3 id="库存分类">库存分类</h3><p>目前，剧集分类成：</p><ul><li>潮流新剧</li><li>中国内地剧</li><li>英美剧</li><li>港台剧</li><li>日剧、日本动画</li><li>韩剧</li><li>电影</li><li>其他剧集</li></ul><p>无论是什么口味，都能照顾到。</p><p>目前，库内资源大多为 1080P，适合在手机、平板观看的流媒体服务，在 4K 电视上观影体验难免下降。</p><h4 id="大量老电影">大量老电影</h4><p>如果你是老电影爱好者，相信会很爱这个免费服务。在库里有大量的经典剧集，志愿者把一些经典的系列做了分类，方便不断刷剧，一刷到天亮也不是不可能。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/EC3m5P.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/EC3m5P.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201219153643554"></p><h4 id="新电影更新频繁">新电影更新频繁</h4><p>这个资源库更新速度很频繁，目前最新最潮的中外剧集都在库里，完全不用担心。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/U8twy3.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/U8twy3.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201219154929823"></p><h2 id="如何使用">如何使用</h2><p>按照 <a href="https://rartv.gitbook.io/emby-public/create-an-account">文档</a> 加群然后使用 bot 创建账号，bot 会发送服务器地址。在 Emby 客户端填写 <code>服务器地址</code>、<code>端口</code>、<code>账号</code> 后，就能开始使用。按照文档一步一步做就没问题。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/pbJnPB.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/pbJnPB.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201219160621255"></p><h3 id="客户端">客户端</h3><p>主流的桌面、手机系统都支持，可以使用 Emby 官方客户端或者第三方 (e.g. Infuse)。</p><ul><li>移动<ul><li>安卓</li><li>iOS、iPadOS</li></ul></li><li>桌面<ul><li>macOS</li><li>Windows</li><li>浏览器</li></ul></li><li>电视系统<ul><li>Android TV</li><li>Apple TV</li></ul></li></ul><p>本人在 iPadOS 上观看，需要付费解锁 Emby App 的播放功能，一次性收费 30 人民币。（这钱是给 Emby，不是给服务器拥有者）</p><p>另外， <a href="https://emby.media/download.html">Emby 官网</a> 表示支持几乎所有主流非主流电视系统 (e.g. Samsung、LG、Roku)，不过需要高昂的订阅费用才能观看，敬请留意。</p>]]></content>
    
    
    <summary type="html">免费 Emby 影视资源库，连接速度快。观看体验良好，大量 Netflix 资源，支持主流平台。</summary>
    
    
    
    <category term="Emby" scheme="https://blog.haysc.tech/categories/Emby/"/>
    
    
    <category term="Emby" scheme="https://blog.haysc.tech/tags/Emby/"/>
    
    <category term="公益服" scheme="https://blog.haysc.tech/tags/%E5%85%AC%E7%9B%8A%E6%9C%8D/"/>
    
    <category term="电影" scheme="https://blog.haysc.tech/tags/%E7%94%B5%E5%BD%B1/"/>
    
    <category term="电视剧" scheme="https://blog.haysc.tech/tags/%E7%94%B5%E8%A7%86%E5%89%A7/"/>
    
    <category term="免费资源" scheme="https://blog.haysc.tech/tags/%E5%85%8D%E8%B4%B9%E8%B5%84%E6%BA%90/"/>
    
    <category term="Netflix" scheme="https://blog.haysc.tech/tags/Netflix/"/>
    
    <category term="Plex" scheme="https://blog.haysc.tech/tags/Plex/"/>
    
    <category term="Jellyfin" scheme="https://blog.haysc.tech/tags/Jellyfin/"/>
    
  </entry>
  
  <entry>
    <title>提升 RSS 体验：Hexo 博客 Feed 指北</title>
    <link href="https://blog.haysc.tech/hexo-feed-setup/"/>
    <id>https://blog.haysc.tech/hexo-feed-setup/</id>
    <published>2020-12-12T19:20:54.000Z</published>
    <updated>2021-05-30T14:18:10.418Z</updated>
    
    <content type="html"><![CDATA[<p>Feed 是什么？在 Web 上古时期（估计我还没出生的年代），要留意一个网站是否更新了，需要在浏览器收藏，然后手动打开并刷新网站，听着就很不方便。当时，一系列 Feed 协议的出现正是为了解决此不便。</p><p>转眼来到 2020，在饱经内容农场的多年 💩 输出后，一部分人厌倦了算法主导文章推荐，使用 Feed 重掌阅读输入的门户。随着时代变化，Feed 背负的使命时过境迁。</p><p>为了让你的读者能够通过 Feed 阅读器浏览你的文章，为你的 Hexo 博客添加 Feed 功能吧！</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/Ltu67d.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/Ltu67d.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="RSS阅读器"></p><h2 id="安装-hexo-generator-feed-插件">安装 hexo-generator-feed 插件</h2><p>首先，在博客根目录下安装 <a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> ：</p><pre><code class="hljs sh">$ npm install hexo-generator-feed --save</code></pre><p>使用 <code>_config.yml</code> 管理 Feed 插件：</p><pre><code class="hljs yaml"><span class="hljs-attr">feed:</span>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>  <span class="hljs-attr">type:</span> <span class="hljs-string">atom</span>  <span class="hljs-attr">path:</span> <span class="hljs-string">feed.xml</span>  <span class="hljs-attr">limit:</span> <span class="hljs-number">20</span>  <span class="hljs-attr">hub:</span> <span class="hljs-string">https://pubsubhubbub.appspot.com</span>  <span class="hljs-attr">content:</span> <span class="hljs-literal">true</span>  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-date</span>  <span class="hljs-attr">icon:</span> <span class="hljs-string">/images/apple-touch-icon.png</span>  <span class="hljs-attr">autodiscovery:</span> <span class="hljs-literal">true</span>  <span class="hljs-attr">template:</span> <span class="hljs-string">./source/uploads/atom_template.xml</span></code></pre><p>以上为我的配置 ⬆️，按照你的需求进行更改。</p><p>对插件配置选项的简要解释，详细解释请参考官方 <a href="https://github.com/hexojs/hexo-generator-feed#options">指引</a>：</p><table><thead><tr><th>键</th><th>描述</th></tr></thead><tbody><tr><td><code>enable</code></td><td>启用</td></tr><tr><td><code>type</code></td><td>Feed 类型，Atom 或 RSS2</td></tr><tr><td><code>path</code></td><td>Feed 路径</td></tr><tr><td><code>limit</code></td><td>填写显示最多文章的数量，设置 <code>false</code> 或 <code>0</code> 则显示全部</td></tr><tr><td><code>hub</code></td><td>PubSubHubbub URL，不需要则留空</td></tr><tr><td><code>content</code></td><td>设置为 <code>true</code> 则 feed 中包含文章所有内容。<code>false</code> 则不显示所有内容，使用 <code>content_limit</code>、<code>content_limit_delim</code> 设定节录内容字数。</td></tr><tr><td><code>order_by</code></td><td>文章顺序（默认按照日期 <code>-date</code>）</td></tr><tr><td><code>icon</code></td><td>feed 图标</td></tr><tr><td><code>template</code></td><td>XML 模板路径。这个文件将被用来生成 xml 文件。自带两个默认模板：<a href="https://github.com/hexojs/hexo-generator-feed/blob/master/atom.xml">atom.xml</a> 和 <a href="https://github.com/hexojs/hexo-generator-feed/blob/master/rss2.xml">rss2.xml</a>。</td></tr></tbody></table><p>大部分配置都很<strong>直观</strong>，启用后，用户就能以 RSS 订阅你的博客。在你的主页添加 RSS 链接，增加曝光。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/udaPfC.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/udaPfC.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="在您的主页上添加RSS链接"></p><p>后文主要讲述<strong>自制 XML 模板</strong> 和 <strong>PubSubHubbub 的设置</strong>。</p><h2 id="Feed-xml">Feed.xml</h2><blockquote><p><code>type</code>：Feed 类型，Atom 或 RSS2</p></blockquote><p>本质上 Atom 和 RSS2 本质<strong>分别不大</strong>。Atom 相对来说<strong>协议新</strong>一点，<strong>功能多</strong>点。市面上大多 feed parsers 两者皆支持。在网络上，处处见到双方的支持者进行宛如十字军东征似的战争。详细的分别请查看此 <a href="http://www.intertwingly.net/wiki/pie/Rss20AndAtom10Compared">对比</a> 。用哪个几乎都<strong>不影响</strong>，也不影响后面教程的内容，请放心。</p><p>Feed 使用 <code>template</code> 所定义的模版生成，预设自带了 Atom 和 RSS2 各一个模板，效果已经不差。</p><p>后续内容以 Atom 格式的 Feed 作例子。</p><h3 id="自制-XML-模板：面向-Feedly-优化">自制 XML 模板：面向 Feedly 优化</h3><p>Feedly 是目前最流行的 RSS 聚合器之一。通过调整我们的 Feed 格式，让它更容易获取博客图标、题图和特色图片。</p><p>调整后：</p><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">feed</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="hljs-attr">xmlns:webfeeds</span>=<span class="hljs-string">&quot;http://webfeeds.org/rss/1.0&quot;</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hays&#x27; Blog<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">icon</span>&gt;</span>https://blog.haysc.tech/images/apple-touch-icon.png<span class="hljs-tag">&lt;/<span class="hljs-name">icon</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">subtitle</span>&gt;</span>唯有尽力自持，方不致癫狂。<span class="hljs-tag">&lt;/<span class="hljs-name">subtitle</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://blog.haysc.tech/feed.xml&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;self&quot;</span>/&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://blog.haysc.tech/&quot;</span>/&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>这是陈希 Hays Chan 的个人博客 blog，目前是北京大学计算机大三学生，在这会分享日常、科技、编程，还有个人的发展。目前不少文章也投放到少数派和 Medium 发布。<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">updated</span>&gt;</span>2020-12-13T19:30:35.441Z<span class="hljs-tag">&lt;/<span class="hljs-name">updated</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>https://blog.haysc.tech/<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:cover</span> <span class="hljs-attr">image</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/gFn7zm.JPG&quot;</span> /&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:icon</span>&gt;</span>https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/VAlBPs.png<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:icon</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:logo</span>&gt;</span>https://cdn.jsdelivr.net/gh/hayschan/static@master/2020/12/XDzm9G.svg<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:logo</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:accentColor</span>&gt;</span>0abab5<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:accentColor</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:related</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;card&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;browser&quot;</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">entry</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>为苹果信息添加公司头像<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://blog.haysc.tech/2020/12/12/ios-contact-icon/&quot;</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>https://blog.haysc.tech/2020/12/12/ios-contact-icon/<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>  ...<span class="hljs-tag">&lt;/<span class="hljs-name">feed</span>&gt;</span></code></pre><p>制作一份预设模板 <code>atom.xml</code> 的副本，并在此基础上添加：</p><ul><li><p><code>xmlns:webfeeds=&quot;http://webfeeds.org/rss/1.0&quot;</code></p></li><li><p>Feedly 要求的 <a href="https://blog.feedly.com/10-ways-to-optimize-your-feed-for-feedly/">添加内容</a></p>  <pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:cover</span> <span class="hljs-attr">image</span>=<span class="hljs-string">&quot;path/to/image.jpg&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:icon</span>&gt;</span>path/to/icon-96x96.png<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:icon</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:logo</span>&gt;</span>path/to/logo-30px-height.svg<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:logo</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:accentColor</span>&gt;</span>67a43e<span class="hljs-tag">&lt;/<span class="hljs-name">webfeeds:accentColor</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">webfeeds:related</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;card&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;browser&quot;</span>/&gt;</span></code></pre></li></ul><p>注明修改后的模板路径：</p><pre><code class="hljs yml"><span class="hljs-attr">feed:</span>  <span class="hljs-attr">template:</span> <span class="hljs-string">./source/uploads/atom_template.xml</span></code></pre><p>欢迎参考我的 <a href="https://blog.haysc.tech/uploads/atom_template.xml">RSS 模板</a> 格式。完成修改后，使用 <a href="https://validator.w3.org/feed/check.cgi">W3C Feed Validation Service</a> 查看自己的 Feed 格式是否合规。</p><h2 id="PubSubHubbub-后改称-WebSub">PubSubHubbub (后改称 WebSub)</h2><blockquote><p><code>hub</code>：PubSubHubbub URL，不需要则留空</p></blockquote><p>WebSub 前身为 PubSubHubbub，原本由 Google 开发，现为 W3C 下的开源协议。WebSub 基于 webhook ，用于发布者与订阅者之间的通信。hub 中转验证订阅者发来的订阅请求。当有更新，hub 将发布者的新内容分发到订阅者手中。</p><blockquote><p>发布者 = 博客网站</p><p>订阅者 = 使用 Feed 解析器的读者</p><p>中转 = WebSub。</p></blockquote><p>根据 Typlog 创始人在「Typlog now supports PubSubHubbub (aka WebSub) protocol」一文中提出了使用 WebSub 的好处：</p><ul><li>使用 RSS 阅读器的读者能够更快收到新文章</li><li>减少 feed 解析器向网页服务器发送的请求数量，节省带宽。 不使用 WebSub 的话，feed 解析器为了保持及时更新，会不断地（e.g. 每半小时）向网页服务器请求下载一次 Feed XML 文件，以此对比变化。让服务器压力增大</li><li>或许能加快 Google 录取博客新文章到索引的速度</li></ul><div id="sequence-0"></div><p>每当你更新一篇文章，就会通知「中转」，支持 WebSub 的 Feed 解析器收到有新内容的通知。相比之前不断地下载 Feed，使用 WebSub 后，将大大减少下载次数，做到「有更才下」。</p><h3 id="在插件中启用-WebSub">在插件中启用 WebSub</h3><p>启用插件的 WebSub 功能，<code>_config.yml</code> 的 <code>feed</code> 配置填入 <code>https://pubsubhubbub.appspot.com</code>。</p><pre><code class="hljs yaml"><span class="hljs-attr">feed:</span><span class="hljs-attr">hub:</span> <span class="hljs-string">https://pubsubhubbub.appspot.com</span></code></pre><p><code>hexo g</code> 生成博客，你会发现你的 <code>feed.xml</code> 文件中多了：</p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://pubsubhubbub.appspot.com/&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;hub&quot;</span>/&gt;</span></code></pre><h3 id="添加-Webhook">添加 Webhook</h3><table><thead><tr><th>键</th><th>值</th></tr></thead><tbody><tr><td><code>Pubsubhubbub URL</code></td><td><a href="https://pubsubhubbub.appspot.com/publish">https://pubsubhubbub.appspot.com/publish</a></td></tr><tr><td><code>hub.mode</code></td><td><code>publish</code></td></tr><tr><td><code>hub.url</code></td><td>你的 Feed URL (e.g. <a href="https://blog.haysc.tech/feed.xml">https://blog.haysc.tech/feed.xml</a>)</td></tr></tbody></table><p><code>Payload URL</code> 构建格式：</p><ul><li>填写格式为 <code>Pubsubhubbub URL</code>?<code>hub.mode=publish</code>&amp;<code>hub.url=你的博客 Feed URL</code></li><li>e.g. <code>https://pubsubhubbub.appspot.com/publish?hub.mode=publish&amp;hub.url=https://blog.haysc.tech/example_feed.xml</code></li><li><strong>记得修改对应的 Feed URL</strong>。</li></ul><h4 id="GitHub-Webhook-如果你在使用-GitHub-Pages">GitHub Webhook (如果你在使用 GitHub Pages)</h4><p>考虑到 GitHub Pages 普遍度，在此说下 GitHub Webhook 设置。</p><p>在你的 GitHub Pages，<code>Settings</code> -&gt; <code>Webhooks</code> -&gt; <code>Add webhook</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/5FyMar.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/5FyMar.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="从GitHub页面添加GitHub webhook。"></p><ul><li><code>Payload URL</code> 填入前文所说的格式</li></ul><blockquote><ul><li>填写格式为 <code>Pubsubhubbub URL</code>?<code>hub.mode=publish</code>&amp;<code>hub.url=你的博客 Feed URL</code></li><li>e.g. <code>https://pubsubhubbub.appspot.com/publish?hub.mode=publish&amp;hub.url=https://blog.haysc.tech/example_feed.xml</code></li></ul></blockquote><ul><li><code>Content type</code> 选 <code>application/x-www-form-urlencoded</code></li><li>Which events would you like to trigger this webhook?<ul><li>选 <code>Let me select individual events.</code></li><li>仅选 <code>Page builds</code></li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/XAGjp3.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/XAGjp3.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="GitHub 添加webhook截图"></p><p>手动激活 webhook 进行测试，得到结果 <code>204</code> 意味成功。</p><h4 id="Netlify-Webhook-如果你在使用-Netlify">Netlify Webhook (如果你在使用 Netlify)</h4><p>我使用 Netlify 托管我的静态网站文件，而不是 GitHub Pages。</p><p>源文件放在 GitHub，有新 Commit 就会 trigger，生成新 Build。在 Build 成功后，就会 Deploy 新的网站页面。我要做的是网站部署成功（<code>Deploy Succeeded</code>）后，通知 PubSubHubbub 我有新的内容。</p><p>这里使用 Netlify 提供的 Webhook。去网站的 <code>Site settings</code> -&gt; <code>Build &amp; deploy</code> -&gt; <code>Deploy notifications</code>（网站设定、生成部署、部署通知）。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/QpmF1q.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/QpmF1q.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="Netlify新增webhook通知"></p><p><code>Add notification</code> -&gt; <code>Outgoing webhook</code>（添加通知、对外 webhook），利用此功能，能以 POST 方法发送通知到 PubSubHubbub 。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/6PJOqB.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/6PJOqB.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="在Netlify中添加外发webhook"></p><ul><li><code>Event to listen for</code> 选择 <code>Deploy Succeeded</code>。</li><li><code>URL to notify</code> 填写上文提到的 <code>Payload URL</code></li><li><strong>记得修改对应的 Feed URL</strong>。</li></ul><p>Save 完成。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/QGmGv0.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/QGmGv0.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="要填写的细节 发出的webhook包括通知的URL"></p><h3 id="验证是否成功">验证是否成功</h3><p>使用谷歌提供的 PubSubHubbub <a href="https://pubsubhubbub.appspot.com/publish">工具</a> ，查看是否成功传输到。填入你的 Feed URL，然后 Get Info。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/ldz2Na.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/ldz2Na.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="Publisher诊断，查看是否将feed.xml传递给WebSub。"></p><p>查看上次更新时间 Last successful fetch：</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/YVjcAE.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2021/03/YVjcAE.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="查看最后一次成功获取和收到的内容"></p><p><strong>参考资料</strong>：</p><ul><li><a href="https://azriton.github.io/2017/01/06/Hexo%E3%81%A7PubSubHubbub%E9%80%9A%E7%9F%A5%E3%82%92%E3%81%99%E3%82%8B/">Hexo で PubSubHubbub 通知をする</a></li><li><a href="https://blog.typlog.com/pubsubhubbub">PubSubHubbub: Typlog now supports PubSubHubbub (aka WebSub) protocol.</a></li><li>WebSub <a href="https://w3c.github.io/websub/#high-level-protocol-flow">文档</a></li><li>WebSub 流程图根据官方文档流程图临摹制作并翻译</li><li><a href="https://alligator.io/rss/optimizing-rss-feed-feedly/">Optimizing Your RSS Feed for Feedly</a></li><li><a href="https://blog.feedly.com/10-ways-to-optimize-your-feed-for-feedly/">10 ways to optimize your feed for feedly</a></li><li>题图使用了 <a href="https://www.flaticon.com/authors/pixel-buddha">Pixel Buddha</a> 制作的 RSS 图标<script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdn.jsdelivr.net/gh/hayschan/static@master/js/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">Title: WebSub 流程图订阅者->发布者: 订阅者通过发布者发布的主题找到中转订阅者->中转: 订阅者通过发送 POST 请求到中转以订阅主题更新订阅者-->中转: 中转以 GET 收到订阅请求发布者-->中转: 发布者通知中转有新内容啦！中转->订阅者: 中转以 POST 将内容发送到每一个订阅者手里</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple"}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script></li></ul>]]></content>
    
    
    <summary type="html">让你的 Hexo 博客支持 Atom、PubSubHubbub (aka WebSub) 吧！</summary>
    
    
    
    <category term="博客" scheme="https://blog.haysc.tech/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="PubSubHubbub" scheme="https://blog.haysc.tech/tags/PubSubHubbub/"/>
    
    <category term="WebSub" scheme="https://blog.haysc.tech/tags/WebSub/"/>
    
    <category term="Hexo" scheme="https://blog.haysc.tech/tags/Hexo/"/>
    
    <category term="feed" scheme="https://blog.haysc.tech/tags/feed/"/>
    
    <category term="RSS" scheme="https://blog.haysc.tech/tags/RSS/"/>
    
    <category term="Atom" scheme="https://blog.haysc.tech/tags/Atom/"/>
    
  </entry>
  
  <entry>
    <title>📷：扫街 —— 海淀十二月</title>
    <link href="https://blog.haysc.tech/photo-shoot-Dec-2020/"/>
    <id>https://blog.haysc.tech/photo-shoot-Dec-2020/</id>
    <published>2020-12-11T15:26:47.000Z</published>
    <updated>2021-05-30T14:18:23.978Z</updated>
    
    <content type="html"><![CDATA[<p>买了台富士 X-E3，直出颜色一流。配了两个镜头：</p><ul><li>TTartisan 35mm F1.4</li><li>FUJINON XC 16-50mm F3.5-5.6 OIS II</li></ul><p>35mm 的是定焦手动头，没有自动对焦，我使用峰值对焦辅助我。或许还是新手，经常有虚焦出现。之后购入了富士龙变焦自动头，对焦速度还行，固件更新频繁，体积上是 TTartisan（铭匠光学）的数倍。</p><p>等预算充足，还是入一个体积小巧的定焦头为上，扫街方便很多。</p><hr><h3 id="11-Dec">11 Dec</h3><p>走到未名湖边，看到一群人在投喂鸭子🦆。远处，部分湖面已经结冰，即将到来的是北京最寒冷的时候。每年一月，未名湖完全结冰后，大家会在冰面上滑冰。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/PVekPY.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/PVekPY.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF9965"></p><p><strong>12-16 更新</strong>：结冰啦！距离上次更新不到一个礼拜，重回未名湖已经看到湖面薄薄一层冰面。⛸️溜冰鞋——预备。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/6GsIc8.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/6GsIc8.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF0389 (1)"></p><p>路上遇到一辆 ofo 倒在一边。话说，ofo 创始人是北大校友，最开始的单车量是由他号召大家把校内几千辆自行车捐出来。后来 ofo 的事迹相信大部分人都知道，错过了最佳的收购时机，无以为继。我两百多押金还没还呢。</p><p><img src="/photo-shoot-Dec-2020/qDMFlP.webp" class="lazy" data-srcset="/photo-shoot-Dec-2020/qDMFlP.webp" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF9931"></p><p>不同牌子的共享单车，整齐的排列呈现出不同颜色下统一的和谐感。</p><p><img src="/photo-shoot-Dec-2020/webp-20201222094512938" class="lazy" data-srcset="/photo-shoot-Dec-2020/webp-20201222094512938" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF0224"></p><p>在创业大街外，拍下这张矩形套着矩形套着 Y（Why？）。当时觉得这有点像人类自我认知的过程，动机，即为什么做出某种行为的原因，往往埋藏于一层层迷雾中。有时候甚至我们也不懂自己为什么说出某句话、做出某些决定，似乎是脑子一热下的失误。唯有理解自己、研究内心，才能拨开云雾，找到被框框抱起来的动机。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/Yo8IK7.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/Yo8IK7.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF0120"></p><p>晚上，大家从教学楼慢慢走回宿舍，在艺园外遇到这位走在灯光下的男子，刷着手机。之前有长辈问我：为什么现在年轻人晚上都喜欢刷手机，甚至不睡？</p><p>或许，只有那些时间才是真正属于我们一个人的吧。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/cQK9pS.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/cQK9pS.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF9744"></p><h3 id="17-Dec">17 Dec</h3><p>获 <a href="https://www.instagram.com/rickyds97/">@rickyds97</a> 受邀与 <a href="https://www.instagram.com/likitying/">@likitying</a> 尝试胶片摄影，Ricky 掏出了老古董 Yashica，bigger 满满。</p><p>走至燕南园，远远可见一只白猫，Ricky 竟然对着猫喊：猫咪～，你名系咪叫猫咪啊？（你的名字是否叫猫咪呀）</p><p>或许是 Ricky 向来养猫，猫咪亲昵地摇头蹭他小腿，我作为随行者也沾了光，撸了几把猫咪也没跑，还乖乖站在墙边让我拍——天生的镜头感，这才是 catwalk 。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/EWCSLy.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/EWCSLy.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DSCF0298"></p><p><strong>还有：</strong></p><ul><li>听说最美时光准备关了，过去两年多，大学生涯很多重要的事都是在这发生的。<a href="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/gLYFPU.JPG">照片</a></li></ul>]]></content>
    
    
    <summary type="html">购入了富士 X-E3，进行了蛮多拍摄，看看效果。</summary>
    
    
    
    <category term="摄影" scheme="https://blog.haysc.tech/categories/%E6%91%84%E5%BD%B1/"/>
    
    
    <category term="生活" scheme="https://blog.haysc.tech/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="大学" scheme="https://blog.haysc.tech/tags/%E5%A4%A7%E5%AD%A6/"/>
    
    <category term="扫街" scheme="https://blog.haysc.tech/tags/%E6%89%AB%E8%A1%97/"/>
    
  </entry>
  
  <entry>
    <title>富士原厂电池 NP-W126 和 NP-W126S 有什么分别？</title>
    <link href="https://blog.haysc.tech/fuji-np-w126s-battery-compare/"/>
    <id>https://blog.haysc.tech/fuji-np-w126s-battery-compare/</id>
    <published>2020-12-01T16:32:48.000Z</published>
    <updated>2021-04-21T06:54:41.003Z</updated>
    
    <content type="html"><![CDATA[<p>最近富士发布了新品 X-S10，我也购入了两年前发布的 X-E3，近年发布的富士 X 系列相机大多跟机附带 NP-W126S。当我在网上搜索电池时，发现淘宝大多出现 NP-W126（留意少了后缀 S）的搜索结果。带着疑惑进行了一番搜索。</p><h2 id="TL-DR">TL; DR</h2><ol><li>使用两个电池的相机互相兼容。</li><li>新电池高温表现更佳。</li></ol><h2 id="详细">详细</h2><p>使用 NP-W126S 或 NP-W126 的相机都兼容另一颗电池，<strong>互相兼容</strong>。也就是说，跟机 NP-W126S 的相机即使放入 NP-W126 也是兼容的；反之亦然。</p><p>NP-W126S 是后缀不带 S 的 NP-W126 的升级版。尺寸、接触口、电源特性都相同，因此兼容性一样，相机只要适配其中一个，就能使用另外一个。一般都是 1200 mAh，容量为 8.7 Wh，拍照的续航足够的，录影 4K 就很勉强了，要随身多带三四颗电池。</p><blockquote><p>The Fujifilm NP-W126S Li-Ion Battery Pack has been designed to <strong>better manage heat</strong> and ensure lightning fast camera performance. This battery is also compatible with older cameras that use the NP-W126 battery pack, but users will not see any performance advantages in those bodies.</p></blockquote><p>他们的分别在于新版 NP-W126S 在 <strong>高温下的性能</strong>（40 摄氏度左右），据说续航是旧版三倍。室温情况下，则没分别。另外，这个特性只有在新机，即根机附带 NP-W126S 的相机上才有效。不支持该特性的旧机即使用上 NP-W126S 也无法享用。</p><p><strong>参考资料</strong>：</p><ul><li><a href="http://ultralightphotography.net/gear/fuji-cameras/everything-you-wanted-to-know-about-np-w126-batteries/">NP-W126S Batteries Test: Capacity, Temperature and Quality compared</a></li><li>B&amp;H 售卖该电池的<a href="https://www.bhphotovideo.com/c/product/1263624-REG/fujifilm_16528470_np_w126s_li_ion_battery_pack.html">备注</a></li></ul>]]></content>
    
    
    <summary type="html">对比富士原厂 NP-W126S、NP-W126</summary>
    
    
    
    <category term="摄影" scheme="https://blog.haysc.tech/categories/%E6%91%84%E5%BD%B1/"/>
    
    
    <category term="电池" scheme="https://blog.haysc.tech/tags/%E7%94%B5%E6%B1%A0/"/>
    
    <category term="对比" scheme="https://blog.haysc.tech/tags/%E5%AF%B9%E6%AF%94/"/>
    
    <category term="富士" scheme="https://blog.haysc.tech/tags/%E5%AF%8C%E5%A3%AB/"/>
    
  </entry>
  
  <entry>
    <title>将人工智能元年提前十年 - AlphaGo 论文读后感</title>
    <link href="https://blog.haysc.tech/alpha-go-paper-thoughts/"/>
    <id>https://blog.haysc.tech/alpha-go-paper-thoughts/</id>
    <published>2020-11-03T07:09:05.000Z</published>
    <updated>2021-09-16T16:32:01.901Z</updated>
    
    <content type="html"><![CDATA[<p>这次阅读发布在《Nature》上的《Mastering the game of Go with deep neural networks and tree search》，正是 AlphaGo的论文。当时 AlphaGo 在击败欧洲冠军职业二段樊麾后，引起了业内不小的轰动。</p><p>本人从小学开始进行系统化象棋训练，二十多次斩获中国象棋比赛个人奖杯以及队制奖杯。除此以外，对国际象棋也颇有成就，ELO 的分数大约在 1300 浮动，拿过学界亚军和 Board Prize。</p><p>至于围棋自幼便听闻，琴棋书画四艺的棋指的正是围棋，却因接触象棋更为早，惯性地就选择了象棋系，后来更是对走法规则接近的国际象棋也产生了兴趣。</p><p>我在 2012 年第一次参加国际象棋比赛，一开始和象棋引擎对战练习。国际象棋领域内机器一早就赢过人类多次了，IBM 深蓝早在十五年前以微弱优势击败了老棋王卡斯帕罗夫<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>，直到八年后才能确认机器在国际象棋完全超越最顶尖的人类选手。后来随着技术进步，开源的象棋引擎 Stockfish 脱颖而出<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>，技术上比深蓝的暴力搜索更为简洁和有效率。写这篇文章时，翻了翻他的更新日志，更到了 v12 ，新增了神经引擎模块，比上一代胜率高 10 倍。因此，对围棋不熟悉以及对人工智能发展状态的陌生，我一直以为计算机早早攻克了所有棋类。</p><p>后来的故事，大家都非常清楚，出乎意料，AlphaGo 4-1 击败了围棋最强者之一李世石。</p><p>作为一个象棋选手，我没有因此感到很绝望或者不舒服，我更是惊讶于围棋对象棋引擎的挑战性，「竟然还没攻克」。</p><p>人不敌与机器在象棋里早早就发生了。一开始，大家可能很慌张，觉得人类在此事上已经没有了钻研的意义了。然而，象棋引擎带来的却是人类整体水平的大幅提升。现在，从顶尖职业棋手到小孩子，都使用象棋软件来训练自己。通过象棋引擎的分析，出现了很多从未被想到的下法。</p><p>地球上跑得最快的男人——保特，我们尊敬他一次又一次突破了人类自身的生理极限。我们从不要求他猎豹、雄狮跑的更快，也不会让他和特斯拉比 100 米。同样地，为什么要以这样的标准要求围棋选手呢？</p><p>或许，AlphaGo 打开了围棋新世界的大门，让这个悠久历史的运动重焕青春。</p><h2 id="围棋基本规则">围棋基本规则</h2><ul><li>黑白两方交替走棋</li><li>棋盘大小是 19，棋子一共能放在 $19 \times 19 = 361 $ 个节点上</li><li>和象棋不同，围棋落子后<strong>不能移动</strong></li><li>通过计算棋子所占区域大小判断胜负</li><li>吃子规则是把对方棋子相邻交叉点围住就能吃掉，故得名围棋</li></ul><p>因为象棋棋子能移动，棋谱的每一步是记录棋子的移动。中国象棋记录棋谱形式有点像汇编语言里的 <code>mov source,dest</code>  ，为「子名——原始列——动作（进/平/退）——目的位置」。例如，常见中炮局第一步为炮二平五，意思就是炮从红方第二列走到第五列。和中国象棋走法接近的国际象棋记录方式大同小异。</p><table><thead><tr><th>步数</th><th>红方</th><th>黑方</th></tr></thead><tbody><tr><td>1</td><td>炮二平五</td><td>马8进7</td></tr><tr><td>2</td><td>马二进三</td><td>车9平8</td></tr><tr><td>3</td><td>车一平二</td><td>马2进3</td></tr><tr><td>4</td><td>兵七进一</td><td>卒7进1</td></tr><tr><td>5</td><td>车二进六</td><td>炮8平9</td></tr></tbody></table><p>以上摘自广东吕钦胜上海胡荣华前五步。</p><p>与象棋不同，围棋棋子不用移动，所以<strong>棋谱记录方式为一个时间序列</strong>，在棋盘的交叉点上标记黑/百以及步数，则能完整记录对局。</p><p>当前局面能用状态向量 $\vec s$ （代表 state）表达，361 个节点的每个节点在某一刻都有三种状态，分别是 <code>1</code>｜<code>0</code>｜<code>-1</code> ，对应白、黑、空。<br>$$<br>\vec s = (\underbrace{1,0,-1,\ldots}_{\text{361}})<br>$$<br>表示要走的步可以表达为 action 向量 $\vec a$ ，形如 $\vec a = (0,\ldots,0,0,1,\ldots)$。要注意的是，围棋坐标系使用笛卡尔坐标系，x 轴为英文字母 a-s，纵轴为阿拉伯数字 1-19。为了简单运算，在文章里将 x 轴也以 1-19 指代，映射到英文字母 a-s。从 1 开始算起，而不是计算机的 0 开始算起，因此：</p><p>假设 1 在第 4 个位置， $\vec a = (0,0,0,1,0,0,\ldots)$ ，表示在棋盘的 1 行 4 列下棋。</p><p>假设 1 在第 40 个位置， $\vec a = (0,0,\ldots,1,0,\ldots)$ ，表示在棋盘的 3 行 2 列下棋。</p><p>归纳得知，根据坐标棋盘的行列坐标 $(r,c)$ ， 1 在的 $\vec a$ 位置为 $19\times(r-1)+c$ 。</p><p>因此棋盘局面状态是 $\vec s$ ，走棋是 $\vec a$ ，给定任意状态 $\vec s$ ，AlphaGo 要给我一个最优策略 $\vec a$ ，从而在 361 个节点填满后，获得最大地盘。</p><h2 id="为什么要攻克围棋？">为什么要攻克围棋？</h2><blockquote><p>The game of Go is the Holy Grail of Artificial Intelligence.</p><p>围棋是人工智能的圣杯</p></blockquote><p>围棋是公认人工智能的噩梦，因为状态空间非常大，达到了 $2 \times 10^{170}$。暴力枚举不可取，以计算机目前的算力，就算把所有电脑集合在一起，也无法把所有可能出现的局面穷举。要在不让子的情况下战胜顶尖棋手，需要使用更有效率的方法来实现。</p><p>显然，人类无法暴力搜索，也能下好围棋（当时没有引擎能不让子赢职业棋手），是因为人类能把局面抽象出来。大部分时候，没有一套规则给棋手按着走就能赢，而是通过玄乎的「感觉」，顶尖棋手有时候很难说出来下这棋的原因，这是日积月累训练培养出来的直觉。这正是过往象棋引擎难以攻克围棋的原因，围棋规则虽则简单，胜负判断却难以具体描述。</p><blockquote><p>Learning is the key thing here. It’s machine learning.</p></blockquote><p>AlphaGo 就是要把这种模糊的棋感模拟出来，最终击败人类。</p><h2 id="技术实现">技术实现</h2><p>AlphaGo 是一个「缝合怪」，他在每一个阶段所做的都是在业界内已经有人做过了的。他的创新在于把这些不同的方法巧妙融入到一个框架内，并让它达到从没有人做到的地步——战胜最强职业棋手。无论是深度神经网络，还是强化学习，都只是为了用来搜寻最好的下法。</p><ol><li>监督学习：使用人类在专业比赛的对战数据做有监督学习</li><li>蒙特卡洛树模拟</li><li>估值网络</li><li>强化学习：自我对弈</li></ol><h3 id="监督学习——师夷长技以制夷">监督学习——师夷长技以制夷</h3><p>AlphaGo 第一步要学习人类下棋套路。</p><h4 id="CNN-卷积神经网络">CNN 卷积神经网络</h4><p>通过输入人类 $19\times19$ 棋谱照片，建立深度卷积神经网络（ Deep Convulutional Neural Network，下称 CNN）。因为是围棋，估计使用一个 channel 的灰阶照片就足够了，棋谱照片能被一个二维矩阵所代表。</p><p>CNN 可以帮我们提取图像中有意义的特征，日常生活的文字识别、图像物品识别都有用到 CNN（例如 iOS 照片 App 能识别出海滩、草地、船、食物等标签）。举例，一个训练好的神经网络，输入是一个船的照片，输出形如 <code>dog(0.01), cat(0.01), boat(0.94)</code>，通过哪个概率最高。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/A-Convolutional-Neural-Network.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/A-Convolutional-Neural-Network.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="Convolutional Neural Network Tutorial: From Basic to Advanced -  MissingLink.ai"></p><p>现实世界大多东西都是非线性的，所以我们要让图片变得非线性，图中使用了 Rectified Linear Unit (RELU)，表达式为：<br>$$<br>Output=\max(zero,Input)<br>$$<br>为了进一步简化特征的非线性关系，文章里提到使用一部分围棋理论作为输入，我对围棋原理不算熟悉，这里就不多说了。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201108193010408.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201108193010408.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201108193010408"></p><blockquote><p>棋盘局面状态是 $\vec s$ ，走棋是 $\vec a$ ，给定任意状态 $\vec s$ ，AlphaGo 要给我一个最优策略 $\vec a$ ，从而在 361 个节点填满后，获得最大地盘。</p></blockquote><p>网络时代诞生的网上围棋对战平台产生了大量棋谱，第一作者 Aja Huang 利用网上公开的十六万个棋谱<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>，在海量的 $\vec s$ 局面下，每一个局面都有一个人类对应的行为 $\vec a$ ，一共三千个万组 $&lt;{\vec s},{\vec a}&gt;$。CNN 就能通过训练数据以及一些额外的围棋参数（e.g. 气）进行有监督学习。因此，概括来说，是这样：</p><p>输入：</p><ul><li>$\vec s$ ，棋盘图像（图像本质是矩阵，拍扁就是一个向量）</li><li>围棋理论，上面的图</li><li>$\vec a$ ，棋谱里人类的下法</li></ul><p>输出：</p><ul><li>输出 $\vec a$ 的概率</li></ul><p>输出是一个概率分布，参考船的 CNN 例图，概率最高的那个就是神经网络认为最接近人下法的 $\vec a$ 。</p><p>因此，输入和输出可以建立为映射关系的函数，这个函数叫 Policy Network（策略函数），存在局面 $\vec s$ ，CNN 输出一个落子概率分布，取最大概率，得到 $\vec a$。这个函数记为 $P_{}$。</p><p>$P$ 对人类下棋的预测准确率达到 57%，当时世界其他顶尖研究团队大约处在 44%。不过 $P$ 有个问题，他的神经网络大小过大，虽则精确，可是速度太慢，做一个预测需时 3ms。Deepmind 为此做了个瘦身的 $P_{lite}$ 版本，将耗时降到 2μs，时间节省为 1000 倍，不过准确度下降到 24.2%。</p><h4 id="为什么棋力不足">为什么棋力不足</h4><p>即使是完整网络 $P$ ，棋力和人类本身差了一大截。</p><p>第一，训练样本大多是业余棋手的棋谱，学习预测都是业余棋手的下法，而业余棋手棋力不高。</p><p>第二，就算有职业棋手的棋谱，数量级过小，不足以大幅提升函数的棋力。这主要是因为职业选手太少了，顶尖的更是屈指可数。</p><p>第三，Policy Network 的本质是学习然后预测，而人类下棋有时候下好的，有时候也有臭棋，这个网络赢棋的下法学习，导致崩盘的下法也学习</p><p>第四，和第三点有点不同的是，赢棋的下法也不一定是好棋，类似在国际象棋里，有时候赢棋只不过是因为对手表现更逊色一筹，并不是我下的好，俗语说：全靠同行衬托。</p><h3 id="估值网络">估值网络</h3><p>我们知道 SL 有监督学习之所以叫有监督，是因为有标签，告诉神经网络「正确答案」。</p><p>在前一节，在一对 $&lt;{\vec s},{\vec a}&gt;$ ，$\vec s$ 是特征，$\vec a$ 是标签，给定一个局面 $\vec s$ ，CNN 应该尽量给一个概率最高的 $\vec a$ 。</p><p>然而，正如上面解释为什么棋力不足， $\vec a$ 和局面的输赢并不相关。现在我们要建立一个估值网络，而这是和输赢相关的，所以我们要修改标签的定义。</p><p>增加一个标签关于赢、输、和（用 1、-1、0 来代表），对应的特征是 $\vec s’$ ，代表在 $\vec s$ 走 $\vec a$ 产生的心得局面，即 $\vec s’=(\vec s,\vec a)$ 。</p><p>因此新的一组训练数据长这样：$&lt;{(\vec s,\vec a)},{\vec z}&gt;$ 。三个向量都是有记录的历史数据，所以我们仍然能训练。</p><p>很自然地，我们会想到使用之前 CNN 训练的那 3000 万个训练样本，再扔到这个估值网络去跑。Deepmind 就是这样想的，最终结果和之前过度相似。这个原因可以归纳成上文所说的臭棋能决定性地影响局面。</p><p>Deepmind 利用 self-play，生成了 3000 多万个 $&lt;{(\vec s,\vec a)},{\vec z}&gt;$ ，而且每个 $\vec s$ 都来自不同盘棋，意思就是一共有 3000 多万个棋谱，对比之前人类棋谱是 16 万盘。这样一定程度上防止了臭棋的 strong correlation。</p><p>这次，带了 $\vec z$ 的函数就叫做 Value Network，记为 $v$ ， 输出该局面胜负概率 $v(\vec s)$。</p><p>对比 Policy Network 输出的是预测这步棋人类会下的概率，Value Network 输出的是胜率。</p><p>Policy Network 使用 max 函数去挑人类最可能走的棋作为 $\vec a$ ，而 Value Network 则不然。他将下一步走棋产生的新局面 $\vec s’$，作为参数传入 $v(\vec s’)$ ，求走不同棋导致胜率的分布，最后选取胜率最高的那步棋作为下一步要走的棋。</p><h4 id="强化学习——左右互搏">强化学习——左右互搏</h4><p>AlphaGo 纪录片的开头，正是 Demis Hassabis 在大学里演讲，说明如何利用强化学习来训练，让他玩 Atari Breakout（经典游戏，可以理解为 Pong 的单人版）。很快强化学习模型就学会了怎么在上方弄条隧道，让球自己在上面不断来回碰撞。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201109002534943.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201109002534943.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="Atari Breakout Game"></p><p>通过自我博弈，能让神经网络的棋力更大提升，强化学习后的 Policy Network 对上原始 Policy Network，胜率大约是八成。不过因为走棋单一，所以对上人类棋手，反而不如原始版，留意下文「a diverse beam of promising moves」：</p><blockquote><p>It is worth noting that the SL policy network $p$ performed better in AlphaGo than the stronger RL policy network $p_{rl}$, presumably because humans select <strong>a diverse beam of promising moves</strong>, whereas RL optimizes for the single best move.</p></blockquote><p>不过，强化学习的好处是能够提供更多高质量样本给我们的估值网络进行训练。实验数据得出，利用增强学习后的 Policy Network 去训练 Value Network，效果更佳。（相对于利用原版 Policy Network 去训练 Value Network）</p><h3 id="蒙特卡罗树搜索">蒙特卡罗树搜索</h3><p>论文的标题 「tree searches」 侧面反映了蒙特卡罗树搜索的重要性。</p><h4 id="Rollout">Rollout</h4><p>Monte-Carlo Tree Search（MCTS）核心思想是随机。通过双方（都是电脑）随机下棋，以及后来的胜负，能得知某一个局面 $\vec s$ 下，走哪步棋会导致赢。在不停地随机训练后，陌生局面就会越来越少。（我看网上有人分析说李世石 God Move 78 或许就是走了陌生局面）</p><p>经过内部很多的调整，以及理论的迭代，Aja Huang 最终拿出了以下方式：<br>$$<br>\text{新分数} = \text{调整后的初始分} + \text{通过模拟的赢棋概率}<br>$$<br>调整后的初识分与 Policy Network 相关。所以一开始随机走，会使用人类下棋作为基准，随着随机模拟量的增多，走出更多人类没走过的走法，最终达到一个新的棋力水平。</p><p>后来因为 Policy Network 完全版太 bulky，所以选择用上前面说到的瘦身版，速度快了 1000 倍。</p><h2 id="感想">感想</h2><p>在阅读这篇论文以及对其的解读，觉得设计实在是太精妙了，不时有那种 Eureka Moments——「还能这样！」。作为人工智能初学者，一开始读论文实在是太难了，只好找各种给小白的解说，后来慢慢知道了一个个不同的概念还有一些重要函数的公式，再以这些作为关键字扔到 Google 里看更多的资料。相比一个多礼拜前的自己，能明显感觉到确实对原理理解多了很多。或许这也是类似 Machine Learning 吧，让自己输入大量的资料，渐渐迭代以及学习出比之前更强的自己。</p><p>有很多部分，并没有很详细地写出来，一来是没有透彻掌握，写多错多，二来也不想误导其他读者。</p><blockquote><p>Engineering is the closest thing to magic that exists in the world.</p></blockquote><p>非常感谢网上公开的资料，正如 Elon Musk 说过在现今互联网知识开放的时代，你能免费地学任何东西。如果没有以下的参考资料，我或许是自闭地看文章而毫无头绪。最后，也推荐一下 AlphaGo 的纪录片，很紧张地描述了当时 Deepmind 团队的心情，他们也不知道能否创造历史，在巨大的压力中安全度过。</p><p>如果你们有什么想法的话，欢迎在下方评论区交流以及指正我的错误。</p><p><strong>参考资料</strong></p><ul><li><a href="https://youtu.be/WXuK6gekU1Y">AlphaGo - The Movie | Full Documentary</a></li><li><a href="https://blog.csdn.net/longxinchen_ml/article/details/50900070">读《Nature》论文，看AlphaGo养成</a></li><li><a href="https://www.bnext.com.tw/article/38927/BN-2016-03-14-172809-178">「戰勝自己」不只是口號──《Nature》AlphaGo論文讀後感</a></li><li><a href="https://charlesliuyx.github.io/2017/05/27/AlphaGo%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/">深入浅出看懂AlphaGo如何下棋</a></li><li><a href="https://www.kdnuggets.com/2016/11/intuitive-explanation-convolutional-neural-networks.html">An Intuitive Explanation of Convolutional Neural Networks</a></li><li><a href="https://ujjwalkarn.me/2016/08/09/quick-intro-neural-networks/">A Quick Introduction to Neural Networks</a></li><li><a href="https://arxiv.org/pdf/1412.6564.pdf">Move Evaluation in Go Using Deep Convolutional Neural Networks</a></li><li><a href="https://zhuanlan.zhihu.com/p/24807239">什么是强化学习 - 莫烦</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>卡斯帕罗夫和深蓝分别在 1996 和 1997 年对战了两次。第一次卡斯帕罗夫以大分 4-2 击败深蓝；第二次深蓝以大分 3.5-2.5 击败卡斯帕罗夫。 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>赢了第6赛季（2014年）、第9赛季（2016年）、第11赛季（2018年）、第12赛季（2018年）、第13赛季（2018年）、第14赛季（2019年）、第16赛季（2019年）、第18赛季（2020年）和第19赛季（2020年）的非官方世界计算机国际象棋冠军。在第5季（2013年）、第7季（2014年）、第8季（2015年）、第15季（2019年）和第17季（2020年）则获得亚军。 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>从围棋对战平台 KGS 上获得的 3000 万个样本 <a href="#fnref3" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">阅读《Mastering the game of Go with deep neural networks and tree search》后的感想、总结与归纳。</summary>
    
    
    
    
    <category term="信息科学" scheme="https://blog.haysc.tech/tags/%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6/"/>
    
    <category term="人工智能" scheme="https://blog.haysc.tech/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    <category term="机器学习" scheme="https://blog.haysc.tech/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="强化学习" scheme="https://blog.haysc.tech/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="论文" scheme="https://blog.haysc.tech/tags/%E8%AE%BA%E6%96%87/"/>
    
  </entry>
  
  <entry>
    <title>bomblab 实验笔记 - Binary Bomb</title>
    <link href="https://blog.haysc.tech/bomblab/"/>
    <id>https://blog.haysc.tech/bomblab/</id>
    <published>2020-11-01T15:59:28.000Z</published>
    <updated>2021-09-16T16:34:28.311Z</updated>
    
    <content type="html"><![CDATA[<p>记录做 CSAPP 的 bomblab 解题思路，遇到好多坑，通宵了好几晚。我太菜了！🤣</p><p>用 gdb 查看炸弹：</p><pre><code class="hljs shell"><span class="hljs-meta">linux&gt;</span><span class="bash"> gdb -tui ./bomb</span></code></pre><p>打开汇编视图：</p><pre><code class="hljs plain">(gdb) layout asm</code></pre><p>如果你有足够大的显示区域，建议使用同时使用寄存器视图：</p><pre><code class="hljs plain">(gdb) layout regs</code></pre><p>效果如下，上中下三层，上为寄存器，中为汇编，下为指令。</p><p><img src="/bomblab/image-20201108112241249.png" class="lazy" data-srcset="/bomblab/image-20201108112241249.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201108112241249"></p><h2 id="琐碎">琐碎</h2><p>通过把答案存储在一个文本文件里，能避免每次解开新的 bomb ，都要输入一遍旧的，万一输错了就凉了。在拆开 <code>phase_1</code> 后，创建一个 txt，然后在 gdb 里：</p><pre><code class="hljs assembly">(gdb) set args .&#x2F;psol.txt(gdb) show argsArgument list to give program being debugged when it is started is &quot;.&#x2F;psol.txt &quot;.</code></pre><p>每次运行时都会把文本内容作为参数输入。</p><p>通过把断点放在 <code>explode_bomb</code> 前，能在爆炸前及时停止，这是我炸了七次之后才发现的。</p><pre><code class="hljs shell">(gdb) b explode_bomb</code></pre><h2 id="Phase-1">Phase 1</h2><p>在汇编文件里 <code>main</code> 里，通过寻找 <code>phase_1</code> 能看到它的第一次出现在：</p><pre><code class="hljs assembly">000000000000123a &lt;main&gt;:133b:e8 31 09 00 00       callq  1c71 &lt;read_line&gt;    1340:48 89 c7             mov    %rax,%rdi    1343:e8 a5 00 00 00       callq  13ed &lt;phase_1&gt;    1348:e8 6b 0a 00 00       callq  1db8 &lt;phase_defused&gt;</code></pre><p><code>callq</code> 前，刚好有个 <code>mov %rax,%rdi</code> 的指令，合理怀疑是把输入的值或者地址放到 %rdi 中。</p><p>通过设置 breakpoint 在 <code>phase_1</code> 并运行，能看到寄存器中，<code>%rdi</code> 的值为：</p><pre><code class="hljs shell">(gdb) b phase_1(gdb) runtest</code></pre><p>这里我输入 test 作为测试 string。这时我们能看到 <code>%rdi</code> 的高八位存着一个十六进制地址。</p><p>通过 <code>x/s 0x5619f2ae9540</code>，返回 <code>0x5619f2ae9540 &lt;input_strings&gt;: &quot;test&quot;</code>。现在观察<code>phase_1</code> 的反汇编代码，能看到，</p><pre><code class="hljs assembly">00000000000013ed &lt;phase_1&gt;:    13ed:48 83 ec 08          sub    $0x8,%rsp    13f1:48 8d 35 f8 19 00 00 lea    0x19f8(%rip),%rsi        # 加载 %rip+0x19f8 内存地址到 %rsi    13f8:e8 96 04 00 00       callq  1893 &lt;strings_not_equal&gt;# 校验输入的 string 和密码 string 是否一致    13fd:85 c0                test   %eax,%eax# %eax 存储函数的返回值    13ff:75 05                jne    1406 &lt;phase_1+0x19&gt;# 返回不等于0 条转到爆炸函数    1401:48 83 c4 08          add    $0x8,%rsp    1405:c3                   retq    1406:e8 a5 07 00 00       callq  1bb0 &lt;explode_bomb&gt;    140b:eb f4                jmp    1401 &lt;phase_1+0x14&gt;</code></pre><p>第二行中，出现 <code>lea 0x19f8(%rip),%rsi</code> ，接着就是 <code>&lt;strings_not_equal&gt;</code> ，可能对比的就是 <code>%rdi</code>（输入） 和 <code>%rsi</code> 是否一致，因此我们再放一个 breakpoint 在第三行，填写左侧指令地址：</p><pre><code class="hljs shell">(gdb) b *0x5619f28e53f8Breakpoint 2 at 0x5619f28e53f8</code></pre><blockquote><p>这里参考了 GDB 指令的<a href="http://csapp.cs.cmu.edu/2e/docs/gdbnotes-x86-64.pdf">用法文档</a>。</p><p>break *0x80483c3 - Set breakpoint at address 0x80483c3</p></blockquote><p>输入 <code>c</code> （代表 continue 继续）继续运行，看看 <code>%rsi</code> 的值是什么？</p><p>通过 <code>x/s 0x55f28cdd9df0</code>，返回 <code>0x5619f2ae9540 &lt;input_strings&gt;: &quot;The moon unit will be divided into two divisions.&quot;</code> ，获得密码，重启 bomb，输入字符串，拆单成功。</p><h2 id="Phase-2">Phase 2</h2><p>一开场我把 breakpoint 放在 <code>&lt;read_six_numbers&gt;</code> 后一行，因为函数名，猜测是六个数字。输入 「123456」 立刻就炸了。</p><pre><code class="hljs assembly">000000000000140d &lt;phase_2&gt;:    140d:53                   push   %rbx# 压入栈    140e:48 83 ec 20          sub    $0x20,%rsp    1412:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax    1419:00 00     141b:48 89 44 24 18       mov    %rax,0x18(%rsp)    1420:31 c0                xor    %eax,%eax    1422:48 89 e6             mov    %rsp,%rsi    1425:e8 06 08 00 00       callq  1c30 &lt;read_six_numbers&gt;# 读取六个数字    142a:83 3c 24 01          cmpl   $0x1,(%rsp)    142e:75 07                jne    1437 &lt;phase_2+0x2a&gt;    1430:bb 01 00 00 00       mov    $0x1,%ebx    1435:eb 0a                jmp    1441 &lt;phase_2+0x34&gt;    1437:e8 74 07 00 00       callq  1bb0 &lt;explode_bomb&gt;    143c:eb f2                jmp    1430 &lt;phase_2+0x23&gt;    143e:83 c3 01             add    $0x1,%ebx    1441:83 fb 05             cmp    $0x5,%ebx    1444:7f 19                jg     145f &lt;phase_2+0x52&gt;    1446:48 63 d3             movslq %ebx,%rdx    1449:8d 43 ff             lea    -0x1(%rbx),%eax    144c:48 98                cltq       144e:8b 04 84             mov    (%rsp,%rax,4),%eax    1451:01 c0                add    %eax,%eax    1453:39 04 94             cmp    %eax,(%rsp,%rdx,4)    1456:74 e6                je     143e &lt;phase_2+0x31&gt;    1458:e8 53 07 00 00       callq  1bb0 &lt;explode_bomb&gt;    145d:eb df                jmp    143e &lt;phase_2+0x31&gt;    145f:48 8b 44 24 18       mov    0x18(%rsp),%rax    1464:64 48 33 04 25 28 00 xor    %fs:0x28,%rax    146b:00 00     146d:75 06                jne    1475 &lt;phase_2+0x68&gt;    146f:48 83 c4 20          add    $0x20,%rsp    1473:5b                   pop    %rbx    1474:c3                   retq       1475:e8 46 fb ff ff       callq  fc0 &lt;__stack_chk_fail@plt&gt;</code></pre><p>研究下 <code>&lt;read_six_numbers&gt;</code> 的代码：</p><pre><code class="hljs assembly">0000000000001c30 &lt;read_six_numbers&gt;:    1c30:48 83 ec 08          sub    $0x8,%rsp    1c34:48 89 f2             mov    %rsi,%rdx    1c37:48 8d 76 14          lea    0x14(%rsi),%rsi    1c3b:48 8d 42 10          lea    0x10(%rdx),%rax    1c3f:48 8d 4a 04          lea    0x4(%rdx),%rcx    1c43:56                   push   %rsi    1c44:50                   push   %rax    1c45:4c 8d 4a 0c          lea    0xc(%rdx),%r9    1c49:4c 8d 42 08          lea    0x8(%rdx),%r8      1c4d:48 8d 35 08 15 00 00 lea    0x1508(%rip),%rsi        # 315c &lt;array.3419+0x2dc&gt;    1c54:b8 00 00 00 00       mov    $0x0,%eax    1c59:e8 12 f4 ff ff       callq  1070 &lt;__isoc99_sscanf@plt&gt;    1c5e:48 83 c4 10          add    $0x10,%rsp</code></pre><p>在 <code>1c4d</code> 行，能看到有东西填入 <code>%rsi</code> 里了。然后就是 <code>__isoc99_sscanf</code> 了，估计就是 scanf。弄了个 breakpoint 在 scanf 前，看看 <code>%rsi</code> 里是什么：</p><pre><code class="hljs shell">(gdb) x/s $rsi0x55f5ecb0015c: &quot;%d %d %d %d %d %d&quot;</code></pre><p>怪不得那么快就炸了，原来 <code>&lt;read_six_numbers&gt;</code> 读取格式为 「1 2 3 4 5 6」 ，而不是 「123456」。这次重新再跑一次，填入 「1 2 3 4 5 6」，没炸。</p><p>有理由相信，这个是用栈来实现存储，所以通过把 breakpoint 设置在 <code>&lt;read_six_numbers&gt;</code> 后，看看 <code>%rsp</code> 指向的内容：<code>0x7ffe53e8d710</code>，是我们填入的  「1 2 3 4 5 6」：</p><pre><code class="hljs assembly">(gdb) x 0x7ffe53e8d7100x7ffe53e8d710: &quot;\001&quot;(gdb) x 0x7ffe53e8d7140x7ffe53e8d714: &quot;\002&quot;(gdb) x 0x7ffe53e8d7180x7ffe53e8d718: &quot;\003&quot;(gdb) x 0x7ffe53e8d71C 0x7ffe53e8d71c: &quot;\004&quot;(gdb) x 0x7ffe53e8d7200x7ffe53e8d720: &quot;\005&quot;(gdb) x 0x7ffe53e8d7240x7ffe53e8d724: &quot;\006&quot;</code></pre><h2 id="Phase-3">Phase 3</h2><pre><code class="hljs assembly">0x55bd596fa4d2 &lt;phase_3+88&gt;     mov    $0x327,%eax                                                                                                                          0x55bd596fa4d7 &lt;phase_3+93&gt;     sub    $0x36,%eax                                                                                                                           0x55bd596fa4da &lt;phase_3+96&gt;     add    $0x225,%eax                                                                                                                          0x55bd596fa4df &lt;phase_3+101&gt;    sub    $0x30c,%eax                                                                                                                          0x55bd596fa4e4 &lt;phase_3+106&gt;    add    $0x30c,%eax                                                                                                                          0x55bd596fa4e9 &lt;phase_3+111&gt;    sub    $0x30c,%eax                                                                                                                          0x55bd596fa4ee &lt;phase_3+116&gt;    add    $0x30c,%eax  0x55bd596fa4f3 &lt;phase_3+121&gt;    sub    $0x30c,%eax</code></pre><p>会看到当输入第一个数字是0后，会进行以上运算：$0x327-0x36+0x225-0x30c=0x20a$，也就是十进制的 522。然后有对比第二个输入的数字是不是 522，如果不是就爆炸。所以答案是：</p><pre><code class="hljs shell">That&#x27;s number 2.  Keep going!0 522</code></pre><h2 id="Phase-4">Phase 4</h2><pre><code class="hljs shell">(gdb) x $rsi0x55c52bc6c168: &quot;%d %d&quot;</code></pre><p>输入是两个 <code>int</code> ，<code>2 6</code> 试试。然后发现 <code>cmpl $0x4,(%rsp)</code>，<code>%rsp</code> 指向第一个输入，如果不是 4，就爆炸。所以，第一个数字是 4 。再次输入：<code>4 9</code></p><p>把 <code>phase_4</code> 逆向工程后，应该类似这样：</p><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">phase_4</span><span class="hljs-params">(<span class="hljs-keyword">char</span> * input)</span></span>&#123;    <span class="hljs-keyword">int</span> a,b;    <span class="hljs-keyword">int</span> val = <span class="hljs-built_in">sscanf</span>(input, <span class="hljs-string">&quot;%d %d&quot;</span>, &amp;a, &amp;b);    <span class="hljs-keyword">if</span> (val!=<span class="hljs-number">2</span> || a!=<span class="hljs-number">4</span>)        explode_bomb();    <span class="hljs-keyword">int</span> x=<span class="hljs-number">0</span>, y=<span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span>(rsp&gt;x)&#123;        y+=func4(x);        x++;    &#125;    <span class="hljs-keyword">return</span>;&#125;</code></pre><p>在 <code>while</code> 循环里会发现调用了 <code>func4</code> 这个函数，传入参数 <code>x</code> ，因为太菜，逆向工程到一半放弃了。</p><p>不过通过追踪 <code>phase_4</code> 最后一个比较  <code>cmp %ebp,0x4(%rsp)</code> ，<code>ebp</code> 存着 <code>0x8</code> ，如果第二个输入不等于它，就爆炸。</p><p>试试用它作为密码的第二个输入。成功！</p><pre><code class="hljs shell">4 8So you got that one.  Try this one.</code></pre><p>这题倒是取巧了，正确的做法应该是把 <code>phase_4</code> 和 <code>func4</code> 各自翻译成 C。</p><h2 id="Phase-5">Phase 5</h2><p>你将需要使用 <a href="http://defindit.com/ascii.html">ASCII 表</a>。</p><p>在前几行出现了调用 <code>string_length</code> 函数，紧接着就是 <code>cmp$0x4,%eax</code> ，如果不等于 4 就跳转到爆炸函数，所以密码是长度为 4 的字符串。接着，看反汇编代码：</p><pre><code class="hljs assembly">162e:48 63 d0             movslq %eax,%rdx                # 循环的开始, dx&#x3D;val1631:0f b6 14 13          movzbl (%rbx,%rdx,1),%edx       # dx&#x3D;input[dx]1635:83 e2 07             and    $0x7,%edx                # edx &#x3D; edx &amp; 0x7，0～7 之间1638:48 8d 35 41 18 00 00 lea    0x1841(%rip),%rsi        # 0x55fd8e3cbe80 &lt;array.3419&gt; 163f:0f af 0c 96          imul   (%rsi,%rdx,4),%ecx       1643:83 c0 01             add    $0x1,%eax1646:83 f8 03             cmp    $0x3,%eax                # Compute val:3，和3比，一共循环四次1649:7e e3                jle    162e &lt;phase_5+0x21&gt;      # if &lt;&#x3D;, goto循环164b:81 f9 a0 02 00 00    cmp    $0x2a0,%ecx1651:74 05                je     1658 &lt;phase_5+0x4b&gt;</code></pre><h3 id="观察">观察</h3><ol><li>能看出这是一个循环，一共四次，把输入的每一个字符都遍历一次。</li><li>第三行，有一个 <code>&amp;</code> ，一开始没搞懂是用来干什么，后来想到之前 datalab 有个类似的，通过 <code>&amp;</code> 操作符实现模运算 <code>%</code> ，<code>a % b</code> 功能上与 <code>a &amp; (b-1)</code> 一样。因此 <code>and $0x7,%edx</code> 实际上是对 <code>%edx</code> 寄存器的内容进行模 8 操作，里面的内容是我们输入的四个字符。</li><li>第四行，加载地址到 <code>%rsi</code> ，里面内容很<strong>重要</strong>。</li><li>第五行，是一个 <code>imul</code> ，猜测是自乘相关的操作。</li><li>倒数第二行，<code>cmp $0x2a0,%ecx</code> ，结果要等于 $0x2a0$</li></ol><p>查看 <code>%rsi</code> 的内容，使用 <code>print *address@20</code> ，把数组的后二十个项输出。</p><blockquote><p>这里参考另一份 GDB 指令的<a href="https://gist.github.com/rkubik/b96c23bd8ed58333de37f2b8cd052c30">用法文档</a>。</p><p>(gdb) print array[i]@count        artificial array - print array range</p></blockquote><pre><code class="hljs shell">(gdb) print *0x555b6f915e80@20<span class="hljs-meta">$</span><span class="bash">19 = &#123;2, 6, 1, 3, 4, 7, 5, 8, 2032168787, 1948284271, 1802398056, 1970239776, 1851876128, 1869902624, 1752440944, </span>  1868701797, 1998611053, 543716457, 1819440227, 539779885&#125;</code></pre><p>前八个数字分别是 2、6、1、3、4、7、5、8 。</p><p>经过一连串的蛛丝马迹，稍加分析得知，输入 4 个字符，每个字符模 8 后得到 0 到 7 之间的数。代码中的<strong>数组地址</strong>，加上取模后得出来的数作为偏移，就能在内存中找到相应的值，应该一共有可选八个数，乘到一起，积应该为 $0x2a0$ 。</p><p>转换为十进制：$0x2a0 = 672_{10}$</p><p><strong>换言之，我们要找四个字符，使得 $a \times b \times c \times d = 672$</strong></p><pre><code class="hljs c">a = <span class="hljs-built_in">array</span>[ASCII 码模 <span class="hljs-number">8</span>]b = <span class="hljs-built_in">array</span>[ASCII 码模 <span class="hljs-number">8</span>]c = <span class="hljs-built_in">array</span>[ASCII 码模 <span class="hljs-number">8</span>]d = <span class="hljs-built_in">array</span>[ASCII 码模 <span class="hljs-number">8</span>]</code></pre><p>而 array 内容正如上文里，为 <code>[2, 6, 1, 3, 4, 7, 5, 8]</code> 。</p><h4 id="例子">例子</h4><p>例子一、Q 在 ASCII 表里为 17：</p><ol><li>ASCII 码模 8： $17\bmod8=1$ 。</li><li>代入 <code>array[ASCII 码模 8]</code> 有 <code>array[1]</code></li><li>结果为 <code>array[1]</code> 元素，即 6。</li></ol><p>例子二、T 在 ASCII 表里为 20，$20\bmod8=4$</p><ol><li>ASCII 码模 8： $20\bmod8=4$ 。</li><li>代入 <code>array[ASCII 码模 8]</code> 有 <code>array[4]</code></li><li>结果为 <code>array[4]</code> 元素，即 4。</li></ol><p>把以上两个例子<strong>次序相反</strong>，能从数字变为 ASCII 字符。</p><p>例子三、数字 6 变 ASCII 字符：</p><ol><li>数字 6，下标为 1，在 <code>array[1]</code></li><li>$1+8t$ ，则为 ASCII 码模 8 的逆运算，t 为自然数</li><li>t = 1 为 9，t = 2 为 17……</li><li>对照 ASCII 表找出 I、Q、Y，$(t=1,2,3,\dots)$，所以对应关系<strong>不唯一</strong></li></ol><h3 id="解题">解题</h3><blockquote><p>我们要找四个字符，使得 $a \times b \times c \times d = 672$</p></blockquote><p>因为 $672=4\times4\times6\times7$ ，利用上面例子方式，分别是下标 4、4、1、5，同时 <strong>+16</strong>（8 的倍数，例子三第二步），得出 20、20、17、21，对照 ASCII 表，得到答案 <code>TTQU</code>。</p><pre><code class="hljs shell">So you got that one.  Try this one.TTQUGood work!  On to the next...</code></pre><p>显然，逆模运算解不唯一（可以+16、+32、+64…），因数组合也不唯一，所以这题有很多个答案。</p><p>这里写出另一个可行的方法，同时展示不同的逆模运算以及因数组合。</p><p>因为 $672=2\times6\times7\times8$ ，分别是下标 0、1、5、7，同时 <strong>+64</strong>（8 的倍数，例子三），得出 64、65、69、71，对照 ASCII 表，得到答案 <code>@AEG</code>。经测试，一样通过。</p><p><strong>参考链接：</strong></p><ul><li><a href="https://www.cnblogs.com/kangyupl/p/13052593.html">【CSAPP】Bomb Lab实验笔记</a></li><li><a href="https://123xzy.github.io/2018/03/11/lab-bomb/">Bomblab</a></li><li><a href="http://csapp.cs.cmu.edu/2e/docs/gdbnotes-x86-64.pdf">Summary of GDB commands for x86-64 Systems</a></li><li><a href="http://defindit.com/ascii.html">ASCII 表</a></li><li><a href="https://www.cnblogs.com/zhibin123/p/10358955.html">Bomblab</a></li></ul>]]></content>
    
    
    <summary type="html">记录做 CSAPP 的 bomblab 解题思路</summary>
    
    
    
    <category term="技术" scheme="https://blog.haysc.tech/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="ICS" scheme="https://blog.haysc.tech/tags/ICS/"/>
    
    <category term="bomblab" scheme="https://blog.haysc.tech/tags/bomblab/"/>
    
    <category term="csapp" scheme="https://blog.haysc.tech/tags/csapp/"/>
    
    <category term="深入理解计算机系统" scheme="https://blog.haysc.tech/tags/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="逆向工程" scheme="https://blog.haysc.tech/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>坐在梯阶上的人</title>
    <link href="https://blog.haysc.tech/canteen-frustrated-man/"/>
    <id>https://blog.haysc.tech/canteen-frustrated-man/</id>
    <published>2020-10-30T08:19:12.000Z</published>
    <updated>2021-09-16T16:33:21.437Z</updated>
    
    <content type="html"><![CDATA[<p>上周二，晚上接近九点了，终于把当天的课上完，便骑车从教学楼打算回宿舍。在经过农园外时，看到一个人坐在路边的阶级上，他屈腿抱着头，时不时抽搐下。</p><p>当时我骑车路过，在经过他以后，感觉不太对劲，遂折返到他旁边，我想知道他是否需要帮助。我曾经觉得每个人都应该有自己的隐私，他们有需要的话，会求助。可是，一次发生的事，却让我明白，一个跌到深渊里的人，无力呐喊求助，这时候任何人的一句关心，可能对他来说已经是全部的温暖。</p><p>我把车停在他面前，我对他说 “同学晚上好呀！”。他一开始没什么反应，继续低头抽搐，这时我是看出来他在哭泣了。我下车，从背包找了包纸巾，拍了拍他的肩膀，说「来，纸巾」。他抬起头，貌似有点难以置信，或许是不太好意思接受一个陌生人的纸巾，我便直接将纸巾塞到他手里，拍了拍他手背，笑着对他说：「以后你在学校见到我再还我吧」。</p><p>我知道，面对一个情绪崩溃的人，「一切会好起来的」、「往好的方面想」、「」这些话只是站着说话不腰疼，就如同当你断了腿，别人跟你说「往好的方面想」并不会让你更好受，你只会觉得人家并非倒霉的人，当然能毫无心理负担地说出一切。《活下去的理由》其中一章道出所谓关怀的话语，在深陷情绪里的人，是多么荒谬。作者把抑郁症换成了其他的症状，在幽默中透出话语背后的心酸，大家对抑郁认知不足，自以为的关心，却更像是在伤口上撒盐。生活能变得美好谁会不想呢？</p><blockquote><p>「好了，我知道你得了肺结核，但幸好不是更严重的病啊，至少不会死人啊。」<br>「你觉得你为什么得了胃癌啊？」<br>「是的，我知道，得了结肠癌很痛苦，但你试试跟一个得了结肠癌的人生活在一起，嘘，简直是噩梦。」<br>「哦，你说你得了阿尔茨海默症？快跟我说说，我也一直有这个病。」<br>「哦，脑膜炎啊。加油，心态至上。」<br>「是，是，你的腿着火了，但一直抱怨它也没什么用啊，对吧？」<br>「好的，行了，你的降落伞也许真的出问题了，不过别泄气啊。」</p></blockquote><p>我只是希望我传递的一个微笑，能让他在不幸中，获得微量安慰。做这些或许也是抱着自私的想法，当我被困在堵住的隧道里，两端没有光，也曾希望有人能给我一丝关怀。</p>]]></content>
    
    
    <summary type="html">上周二，晚上接近九点了，终于把当天的课上完，便骑车从教学楼打算回宿舍。</summary>
    
    
    
    <category term="随笔" scheme="https://blog.haysc.tech/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="日记" scheme="https://blog.haysc.tech/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>拳击师姐</title>
    <link href="https://blog.haysc.tech/boxing-second-lesson/"/>
    <id>https://blog.haysc.tech/boxing-second-lesson/</id>
    <published>2020-10-28T15:21:03.000Z</published>
    <updated>2021-09-16T16:31:40.542Z</updated>
    
    <content type="html"><![CDATA[<p>这是我第一次在拳击课见这位女生，戴着眼镜的她带着文学气质，一看就觉得温柔似水。穿着一身肉色的运动服，训练时灵动的碎步跳跃，小窥到此女的运动能力，实是外柔内刚，倒是我以貌取人了。</p><p>老师安排我打擂台比赛，竟是和这位女生对打，言谈中得知是一位学过拳击不短时间的师姐。我心里暗自叫苦，脸上却偏偏要一副扑克脸。拳击不止是技术、力量的对决，更是心理战争，胆怯意味着在精神上落败，这远比技不如人还要命，更要命的是被对手看穿恐惧，迎来往往更重更猛烈的攻势。</p><p>很快，我们带着拳套上场了，她几个快速的刺拳，试探我的反应速度。几秒后，估计是摸清了虚实，后手摆拳，一拳打穿我左手的防御，力量从左颚穿来，脑袋一阵眩晕。这时很想闭上眼睛，双手抱头求饶。脑海里响起大师兄一晚跟我说过的，「当你被按着打，就选择在对手出拳的时刻攻击吧，至少对手其中一只手无法用来防御」。憋着一口被碾压的怒气，勉强躲避几拳接连不断的快攻，弯腰——低头——迈步，突破到师姐的近身，往她胸腹打出了几下勾拳，师姐吃痛之下闷哼，快步游走到我身后。这时凸显出实力上绝对的差距，我无论怎么追都追不到这条抹了油的泥鳅，更别说时不时的两三拳袭击。</p><p>我清晰知道自己的弱点，就是没有强处，步伐、拳、躲闪都不快。我并非毫无机会，或许是我的实力低下，师姐在出拳攻击时，并无时刻保护自己的弱处，后手有时掉下，这正是我要抓紧的时机。等待往往是漫长的，自己对这话从未深究，却是无需深究自能领悟，挨揍的时间里，仿佛进了《星际穿越》电影里，在旁人看来短暂的挨揍瞬间，我却感知到永恒。我已无法数清究竟中了多少拳，只能尽力调整呼吸，为待会儿反击蓄力。</p><p>时间进入到对打最后一分钟，在师兄、老师场边嘈杂呐喊中，依稀听到「揍他丫的」、「上啊」。或许是被揍得麻木了，痛楚和眩晕并没有开场时困扰。我连忙抓住师姐一次快攻后的喘息，以迅雷不及掩耳的速度缩短距离。毫不意外，我再被狠狠地揍了，左一拳，右一拳，有一刻甚至怀疑被当成擂台下的沙袋。大喊一声，忍痛双手发力，使出唯一学过的那套连击，前手刺拳——后手直拳，得手！师姐没有发愣，挥动右手摆拳。肾上腺素刺激下，她这拳在我眼中如同老人练习太极一般慢腾腾，一个侧闪轻松避开。</p><p>是时候杀死悬念了，心里暗道。趁着师姐一时重心不稳，我旋转身躯，发出一个我最有力的右手摆拳，这拳正正击中她左脸！大家叹息漂亮攻势后，我却没乘势穷追猛打，反而退了两步保持距离。有苦自己知，那记重拳在打到目标的一刻，能清晰感觉到右肩传来骨头清脆的&quot;咔叽&quot;声，一时无法发力。一个拳手，没了一只手，就如同没了一排牙的老虎，此时不退，难道在那感受被打得毫无反击之力的快感？</p><p>我自以为聪明，却忘了时间还剩下十多秒。师姐见我停下防御，虽不知发生什么，追上来就是几拳，见我毫无反击之力，更是绕着我打。我拿手护住双颚，便弯腰对着脆弱的小腹勾拳。我如同暴风中一艘小帆船，在巨浪猛烈拍打中，只能无力地发出一声声闷哼。</p><p>赛后，加了师姐微信，鼓励我一番，说我很有天赋，让我继续加油，却不知我已经暗暗把她当成目标——有天我也要把她揍得毫无反击之力，我如是想道，揉了揉我几乎抬不起的肩膀痛嘶。</p>]]></content>
    
    
    <summary type="html">第二次拳击课和一位师姐对打，被打的落花流水。</summary>
    
    
    
    <category term="随笔" scheme="https://blog.haysc.tech/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="https://blog.haysc.tech/tags/%E9%9A%8F%E7%AC%94/"/>
    
    <category term="拳击" scheme="https://blog.haysc.tech/tags/%E6%8B%B3%E5%87%BB/"/>
    
    <category term="擂台" scheme="https://blog.haysc.tech/tags/%E6%93%82%E5%8F%B0/"/>
    
    <category term="打架" scheme="https://blog.haysc.tech/tags/%E6%89%93%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>PKU 出入校备案自动化</title>
    <link href="https://blog.haysc.tech/pku-auto-beian/"/>
    <id>https://blog.haysc.tech/pku-auto-beian/</id>
    <published>2020-10-17T06:24:17.000Z</published>
    <updated>2021-09-16T16:32:52.837Z</updated>
    
    <content type="html"><![CDATA[<p>留意：</p><blockquote><p><strong>Invalid</strong></p><p>学校更新了登入接口，本文写的内容无效。</p></blockquote><p>完成教程后，你能：</p><ul><li>每天自动备案</li><li>如果自动备案失败，接收到邮件通知提示</li></ul><p>完成教程大约需要 15 分钟。</p><blockquote><p><strong>写此教程的缘由</strong></p><p>九月底，刚好在国庆前，我被学校禁止出入校十五天，触犯了学校关于「报备—审核」的条例——<em>15日内累计6次（记为3次违规出入校），将取消接下来15日内的出入校权限</em>。国庆假期待在校内勤奋学习，积极向上。很遗憾地错过了车队的重要训练，车协的凤凰岭两天一夜旅行也没能赶上。</p><p>在北大，我应该是最早几个被限制出入的人员，问及相关人员都不清楚这其中的手续。</p><p>希望更少同学遭遇到与我一样的不幸。</p></blockquote><blockquote><p><strong>文章更新</strong></p><ul><li>2020-12-19<ul><li>折叠与教程无关的内容</li></ul></li></ul></blockquote><p>技术上仅仅是自动化填写和提交的流程，达到提升效率的目的，风险不大。</p><p><strong>每天自动备案两次，其中一次为冗余</strong>。举例：定时为UTC+0 02:00 和 08:00，即在格林威治时间+0 的两点软件触发，填报<strong>出入校各一次</strong>；在八点再次触发，填报出入校各一次。（因此后面那次是冗余）</p><blockquote><p><strong>Use at your own risk</strong></p><p>作者不鼓励任何人员使用任何手段欺骗系统，也不承担后果。</p></blockquote><h2 id="北京大学自动出入校备案">北京大学自动出入校备案</h2><p><strong>前提</strong>：你需要一个 GitHub 账号。如果你没有，请注册一个，参考《<a href="https://cloud.tencent.com/developer/article/1487508">一步一步教你注册GitHub账号及简单使用</a>》，完成验证邮箱即可。</p><h3 id="Fork、填学号密码、Commit">Fork、填学号密码、Commit</h3><blockquote><p><strong>关于密码要求</strong></p><ul><li>有同学反应密码带 <code>(</code> 会报错 <code>exit code 2</code>，建议改个密码。</li><li><strong>密码太长</strong>似乎也会有问题，之前 16 位的密码很多报错，换到 11 位就没事了。</li></ul><p>如果遇到问题，需要你更改一下学校账号的密码。关于如何更改密码，请参考 <a href="https://its.pku.edu.cn/resetpwd/">学校文档</a>。</p></blockquote><ol><li>登陆了你的 GitHub 账号后，打开 <a href="https://github.com/YOUSIKI/PKUAutoSubmit">YOUSIKI / PKUAutoSubmit</a>，点击右上角的 fork。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/Efn75e.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/12/Efn75e.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017191924147"></p><ol start="2"><li><p>片刻后，fork 完成，左上角为 <code>你的用户名 / PKUAutoSubmit</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017192530779.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017192530779.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017192530779"></p></li><li><p>点击上方导航栏的 Actions，然后点击下方的绿色图标。</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017192654134.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017192654134.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017192654134"></p><ol start="4"><li><p>点击 Settings - Secrets - New secrets</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017193846408.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017193846408.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017193846408"></p></li><li><p>新建 secret 第一次填 <code>USERNAME</code> 和你的学号；第二次再新建 secret，填 <code>PASSWORD</code> 和你登入 PKU Portal 的密码。</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/imgonline-com-ua-twotoone-iKBO5oMcTz.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/imgonline-com-ua-twotoone-iKBO5oMcTz.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></p><p>填写完毕后，应有两项，如图：</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201021191934170.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201021191934170.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201021191934170"></p><ol start="6"><li>点击 Code，然后点击✏️按钮。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017195512395.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017195512395.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017195512395"></p><ol start="8"><li>随便写点内容（e.g. <code>立足燕园，解放清华</code>），滚动到最底，点 Commit Changes。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/imgonline-com-ua-twotoone-vHuaHdB1uIl9adVd.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/imgonline-com-ua-twotoone-vHuaHdB1uIl9adVd.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="imgonline-com-ua-twotoone-vHuaHdB1uIl9adVd"></p><ol start="10"><li>点击 Actions，观察是否有 Update <a href="http://README.md">README.md</a>，如果有的话，代表成功手动备案。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017200141783.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017200141783.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017200141783"></p><h3 id="定期自动运行">定期自动运行</h3><p>不用你修改任何内容，程序已经会根据 <code>.github/workflows/main.yml</code> 中定义的 cron 自动运行。目前预设是 UTC+0 早上一点和八点（自己转换下北京时间），每天备案两次，其中一次为冗余，应该是颇安全的。</p><pre><code class="hljs yaml"><span class="hljs-attr">schedule:</span>    <span class="hljs-bullet">-</span> <span class="hljs-attr">cron:</span> <span class="hljs-string">&#x27;15 1 * * *&#x27;</span> <span class="hljs-comment"># cron表达式，Actions时区是UTC时间，所以上午9点要往前推8个小时</span>    <span class="hljs-bullet">-</span> <span class="hljs-attr">cron:</span> <span class="hljs-string">&#x27;45 8 * * *&#x27;</span> <span class="hljs-comment"># cron表达式，Actions时区是UTC时间，所以上午9点要往前推8个小时</span></code></pre><p>除此以外，还能自定义填写内容，例如 <code>出入校理由</code>、<code>轨迹</code>。（有需求发邮件给我，我再写吧）</p><p>建议前两天都来看看 Actions 里有没有成功自动备案，能看到 Scheduled 字样以及绿色☑️代表预设任务成功执行：</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017200638873.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201017200638873.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image-20201017200638873"></p><p>在 <a href="http://portal.pku.edu.cn/">Portal</a> -&gt; 学生出入校 -&gt; 备案历史，能查看自动备案是否成功。</p><p>备案失败会发邮件到你 GitHub 账号邮件进行提示。</p><p>我遇到了在很久（三十天）没更改过项目后，Actions 会停，如果你发现没备案，可以查看是否被 GitHub 关停了。</p><h4 id="参考">参考</h4><blockquote><p>没做什么工作，只是合并为一个 <a href="http://main.py">main.py</a> 然后改了改参数读取方式。然后写了个 Github Actions 的配置文件，每天自动执行两次。你可以 fork 本仓库然后在自己仓库的 Settings/Secrets 中设置 USERNAME 和 PASSWORD 两项，一劳永逸。如果你想使用其他填报参数，请自行修改 <code>.github/workflows/main.yml</code>，参数名称参见 <code>main.py</code>。</p></blockquote><p>本文本质上是根据 YOUSIKI 在 <code>README</code> 里这段的详述，并且添加了配图。</p><p>感谢 <a href="https://github.com/Bruuuuuuce/PKUAutoSubmit">Bruuuuuuce</a> 的备案工具，以及 <a href="https://github.com/YOUSIKI/PKUAutoSubmit">YOUSIKI</a> 整合的 GitHub Actions。</p>]]></content>
    
    
    <summary type="html">说明如何通过 GitHub Actions 把备案自动化。</summary>
    
    
    
    <category term="教程" scheme="https://blog.haysc.tech/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="PKU 日常技术" scheme="https://blog.haysc.tech/tags/PKU-%E6%97%A5%E5%B8%B8%E6%8A%80%E6%9C%AF/"/>
    
    <category term="PKU" scheme="https://blog.haysc.tech/tags/PKU/"/>
    
    <category term="备案" scheme="https://blog.haysc.tech/tags/%E5%A4%87%E6%A1%88/"/>
    
    <category term="学校" scheme="https://blog.haysc.tech/tags/%E5%AD%A6%E6%A0%A1/"/>
    
    <category term="疫情" scheme="https://blog.haysc.tech/tags/%E7%96%AB%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>导入课程表到日历</title>
    <link href="https://blog.haysc.tech/calendar-import/"/>
    <id>https://blog.haysc.tech/calendar-import/</id>
    <published>2020-09-21T00:24:00.000Z</published>
    <updated>2021-05-30T14:17:20.654Z</updated>
    
    <content type="html"><![CDATA[<p>通过把课程表导入系统日历，以云端同步打通设备，覆盖电脑（mac 和 Win）、手机。</p><h2 id="生成课程表日历">生成课程表日历</h2><p>打开 <a href="https://pkuhelper.pku.edu.cn/syllabus/">课表助手</a>，选择 Elective。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy1df6hj31ds0u0nbk.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy1df6hj31ds0u0nbk.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></p><p>点击打开并登入选课系统 -》<strong>选课结果</strong>。把选课结果<strong>拷贝</strong>（从绿色的《查看选课结果》到《注：上表》），如下图：<br><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy11i1mj31n90u0nhw.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy11i1mj31n90u0nhw.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""><br><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0qk09j31k60r4n5i.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0qk09j31k60r4n5i.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""><br>粘贴在选课助手的文本框里，正确粘贴后会自动识别。选取需要的课程，并点击<strong>导入所选课程</strong>，然后<strong>生成日历</strong>。设置上课前多少分钟进行提醒，并点击<strong>保存日历</strong>，得到一份 <code>.ics</code> 的日历格式。<br><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0lxbcj31ds0u0ts6.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0lxbcj31ds0u0ts6.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></p><p>查看在不同系统下的导入方法：</p><ol><li><a href="#toc_3">macOS</a></li><li><a href="#toc_4">iPadOS</a></li><li><a href="#toc_5">iOS</a></li><li>Windows（先🐦着，反正 npy 不用 Windows）</li></ol><h2 id="导入-ics-日历">导入 .ics 日历</h2><h3 id="macOS">macOS</h3><ol><li>打开系统日历</li><li>点击上方任务栏上的 文件 -&gt; <strong>导入</strong><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0bhqfj30jy06kwhx.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy0bhqfj30jy06kwhx.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></li><li>选择刚才下载的 <code>.ics</code> 文件并导入</li><li>选择目标日历，并点击 <strong>OK</strong>。</li></ol><p><em>注：如果你打开了日历的 iCloud 同步功能，macOS/iPadOS/iOS 只要其中一台设备导入日历，将由 iCloud 自动同步到当前帐户下的所有苹果设备。</em></p><h3 id="iPadOS">iPadOS</h3><ol><li>打开日历 App 以及 文件 App。</li><li>从右方边缘向左滑，唤出文件。</li><li>定位到你的 <code>.ics</code> 文件所在的目录。</li><li>拖动进日历 App。<img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy07357j31400u04ay.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy07357j31400u04ay.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></li><li>点击 <strong>添加</strong>。<img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy000epj31400u0tns.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/007S8ZIlly1gixzy000epj31400u0tns.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></li><li>选择对应的日历，点击 <strong>完成</strong>。</li></ol><p><em>注：如果你打开了日历的 iCloud 同步功能，macOS/iPadOS/iOS 只要其中一台设备导入日历，将由 iCloud 自动同步到当前帐户下的所有苹果设备。</em></p><h3 id="iOS（有需求再写详细点）">iOS（有需求再写详细点）</h3><p>iOS 不支持多任务操作，方法为：</p><ol><li>发送附件为 <code>.ics</code> 的邮件给自己 📎</li><li>然后使用 iOS 设备上的日历 App 打开。</li></ol><p><em>注：如果你打开了日历的 iCloud 同步功能，macOS/iPadOS/iOS 只要其中一台设备导入日历，将由 iCloud 自动同步到当前帐户下的所有苹果设备。</em></p><h2 id="参考">参考</h2><p><a href="https://www.lifewire.com/how-to-import-ics-calendar-files-in-ical-1172177">How to Import ICS Calendar Files</a><br><a href="https://pkuhelper.pku.edu.cn/syllabus/">PKUHelper 选课助手</a><br><a href="https://reincubate.com/zh/support/how-to/export-transfer-iphone-calendar/">如何导出和传输iPhone或iPad日历</a></p><blockquote><p>原本写给我炒鸡可爱的女票，后经整理和添加配图 （逃</p></blockquote>]]></content>
    
    
    <summary type="html">把课程表导入系统日历，iCloud 同步打通设备</summary>
    
    
    
    <category term="教程" scheme="https://blog.haysc.tech/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="PKU 日常技术" scheme="https://blog.haysc.tech/tags/PKU-%E6%97%A5%E5%B8%B8%E6%8A%80%E6%9C%AF/"/>
    
    <category term="PKU" scheme="https://blog.haysc.tech/tags/PKU/"/>
    
  </entry>
  
  <entry>
    <title>启用AIMUN的网页</title>
    <link href="https://blog.haysc.tech/aimun%20setup/"/>
    <id>https://blog.haysc.tech/aimun%20setup/</id>
    <published>2020-05-18T17:11:00.000Z</published>
    <updated>2021-05-30T14:16:50.303Z</updated>
    
    <content type="html"><![CDATA[<p>这篇文章教导如何在macOS之下使用 <a href="https://github.com/LittleMiao/pku_aimun_router">pku_aimun_router</a> 提供的代码，启用 AIMUN 网站。</p><h2 id="在本地测试">在本地测试</h2><h3 id="安装-Homebrew-（可选）">安装 Homebrew （可选）</h3><p>在安装 NPM 前，确保你的电脑已经有 Homebrew 了。Homebrew 是 macOS 上面本应有的 Package Manager。安装 Homebrew 非常简单。首先，打开系统里的 Terminal，输入以下命令：</p><pre><code class="hljs bash">/bin/bash -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)</span>&quot;</span></code></pre><p>根据网速，运行时间大约为一分钟到几分钟不等，请耐心等候。如果在过程里让你同意一些选项，全部选同意就行。一般选同意的方法为输入 <code>Y</code>，然后回车。</p><p>运行结束后，输入以下命令安装 git（如果安装过则不用）：</p><pre><code class="hljs bash">brew install git</code></pre><h3 id="安装-NPM">安装 NPM</h3><p>安装 Homebrew 后，接下来安装 <code>node</code>。</p><pre><code class="hljs bash">brew install node</code></pre><h3 id="下载网站">下载网站</h3><p>下载源代码，并安装依赖：</p><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/LittleMiao/pku_aimun_router.git</code></pre><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> pku_aimun_router/</code></pre><pre><code class="hljs bash">npm install</code></pre><h3 id="本地跑网站">本地跑网站</h3><pre><code class="hljs bash">npm run dev</code></pre><p>等待大约半分钟后，出现以下画面：</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8410175499_842439.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8410175499_842439.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="CleanShot 2020-05-19 at 01.23.43@2x.png"></p><p>打开 Safari，在网址栏输入 <a href="http://localhost:8080"><code>http://localhost:8080</code></a>，欢迎来到 AIMUN 主页。</p><h2 id="上传到-Netlify-托管">上传到 Netlify 托管</h2><h3 id="生成本地文件">生成本地文件</h3><pre><code class="hljs shell">npm run build</code></pre><h3 id="Netlify-Drop">Netlify Drop</h3><p>通过把文件拖放到 Netlify 的<a href="https://app.netlify.com/drop">网页</a>，静态文件成功上线。文件就是刚才从GitHub下载的文件。</p><h3 id="连接-GitHub-Repo">连接 GitHub Repo</h3><p>以后，通过把 Netlify 连接到 GitHub，能实现持续集成，Netlify 能实时生成Github上的文件为网页。本博客也采取相同做法。</p><h3 id="效果">效果</h3><p>过了几秒钟，再打开网页，已经上线了！</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201013175639580.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201013175639580.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="AIMUN 官网截图"></p><p>这个网页不是我写的，时间还有空，那就做一个网站的测速测试吧：</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201013175919123.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/image-20201013175919123.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="网页测速测试 Pagespeed Insight"></p><blockquote><p>PageSpeed Insights analyzes the content of a web page, then generates suggestions to make that page faster.</p></blockquote><p>显然，这个网站的速度也是不错的，充分发挥了静态网站的优势，免费的 Netlify 也没有拖后腿（更何况还有免费的 CDN 呢）。</p>]]></content>
    
    
    <summary type="html">这篇文章教导如何在macOS之下使用 pku_aimun_router 提供的代码，启用 AIMUN 网站。</summary>
    
    
    
    <category term="教程" scheme="https://blog.haysc.tech/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="MUN" scheme="https://blog.haysc.tech/tags/MUN/"/>
    
    <category term="Netlify" scheme="https://blog.haysc.tech/tags/Netlify/"/>
    
    <category term="Model United Nations" scheme="https://blog.haysc.tech/tags/Model-United-Nations/"/>
    
    <category term="Website" scheme="https://blog.haysc.tech/tags/Website/"/>
    
  </entry>
  
  <entry>
    <title>Safari 扩展无法开启解决方法</title>
    <link href="https://blog.haysc.tech/2020-10-05-safari-plugin-problem/"/>
    <id>https://blog.haysc.tech/2020-10-05-safari-plugin-problem/</id>
    <published>2020-04-10T12:36:35.000Z</published>
    <updated>2021-05-30T14:16:32.177Z</updated>
    
    <content type="html"><![CDATA[<p>前几天抹盘重装了macOS系统，出现了很奇怪的问题。在Safari里，<strong>Extension 插件无法启用</strong>，点启用的那个按钮 🔘 没反应，一直保持关闭状态。在网上搜索了一番之后，尝试了十几种解决方法，最后发现了一个很奇怪的解决方法。</p><h2 id="解决方法">解决方法</h2><p>我在搜索引擎上搜索了一番，发现这个问题不止是10.15.4，从去年年底开始就已经有人汇报这个情况。据称，从上一个版本到下一个版本的preview都存在这个问题。根据以下的reddit post，中招的用户绝不是少数，用户提供的解决方法也是五花八门，一共有100个评论。因此，我总结一下里面提供的方案。</p><blockquote class="reddit-card" data-card-created="1586514284"><a href="https://www.reddit.com/r/MacOS/comments/ez5eud/cant_enable_extensions_in_safari_10153/">Can't enable extensions in Safari? 10.15.3</a> from <a href="http://www.reddit.com/r/MacOS">r/MacOS</a></blockquote><script async src="//embed.redditmedia.com/widgets/platform.js" charset="UTF-8"></script><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdoucxhuxkg30m80cie85.gif" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdoucxhuxkg30m80cie85.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="怪异的bug"></p><h4 id="把插件窗口移动到屏幕中间-对我有效的方法">把插件窗口移动到屏幕中间 (对我有效的方法)</h4><p>这是唯一一个对我有效的方法，做法就是把插件窗口，移动到屏幕的正中心。非常神奇地，原本按不了的按钮就会变得有反应了。</p><p><strong>可以按照这个步骤：</strong></p><ol><li>开发窗口 Develop</li><li>禁用插件 Disable extensions</li><li>再点一次禁用插件 Disable extensions again</li><li>打开插件设定窗口 Preferences &gt; Extensions</li><li>把插件窗口移动到屏幕中间</li><li>启用插件，如果没效，尝试不停调整窗口位置（需要点玄学）</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdousrjr0dg30m80ci7wn.gif" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdousrjr0dg30m80ci7wn.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="test"><br><small>步骤1到4（点击观看gif）</small></p><p>成功的画面我没能够录制⏺️，不知道什么原因，开了录屏软件就打开不了插件。只能在这里附上个截图</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8413484471_704203.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8413484471_704203.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="CleanShot 2020-04-10 at 18.44.43@2x.jpg"><br><small>成功啦</small></p><h3 id="其他可能解决方法">其他可能解决方法</h3><h4 id="点击其他页面">点击其他页面</h4><p>去 Safari &gt; Preferences &gt; Extensions，然后点击其他页面（e.g. Advanced），这是 1Password 提出的方法。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdov61zw1ag30m80cihdv.gif" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/00831rSTgy1gdov61zw1ag30m80cihdv.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="点击其他页面的演示动画"></p><h4 id="进入macOS-Safe-Mode启用插件">进入macOS Safe Mode启用插件</h4><p>根据某些用户所说，进入了macOS Safe Mode 启用插件后，重新正常进入系统，插件依然是启用的状态。步骤：</p><ol><li>重启的时候，长按Shift，进入Safe Mode。</li><li>进入后，打开Safari启用插件。</li></ol><p>关于进入Safe Mode的教学，<a href="https://www.howtogeek.com/189104/troubleshoot-your-mac-with-these-hidden-startup-options/">点击查看</a>。</p><h4 id="开发者菜单里禁用插件然后启用">开发者菜单里禁用插件然后启用</h4><p>可以按照这个步骤：</p><ol><li>开发窗口 Develop</li><li>禁用插件 Disable extensions</li><li>再点一次禁用插件 Disable extensions again</li></ol><h2 id="TL-DR">TL;DR</h2><p>总结来说，就是Safari有bug，无法启用插件。在网上试了不少方法后，在文章里列出了对我有用的，以及我尝试后无效，可是某些用户反馈有效的方法。</p><p>希望苹果能早日解决这个bug。Stability &gt;&gt; Features</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8413483619_436539.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/8413483619_436539.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="DecItRbV4AIwbpO.jpeg"></p>]]></content>
    
    
    <summary type="html">前几天抹盘重装了macOS系统，出现了很奇怪的问题。</summary>
    
    
    
    
    <category term="Safari" scheme="https://blog.haysc.tech/tags/Safari/"/>
    
    <category term="macOS" scheme="https://blog.haysc.tech/tags/macOS/"/>
    
    <category term="苹果" scheme="https://blog.haysc.tech/tags/%E8%8B%B9%E6%9E%9C/"/>
    
  </entry>
  
  <entry>
    <title>以苹果为中心的生产环境</title>
    <link href="https://blog.haysc.tech/ping-guo-sheng-tai-qian-tan-he-wei-sheng-tai-74829388/"/>
    <id>https://blog.haysc.tech/ping-guo-sheng-tai-qian-tan-he-wei-sheng-tai-74829388/</id>
    <published>2020-01-16T06:58:00.000Z</published>
    <updated>2021-05-30T14:18:29.299Z</updated>
    
    <content type="html"><![CDATA[<h2 id="生产力？">生产力？</h2><p>我是一个学生，专业是计算机，对我来说生产力就是更高效率地完成课业。另外，有时候我会接一些外包的短期项目。</p><p>我曾经是一个坚定的Windows+原生安卓主义者：从第一次用电脑开始的人生大多用着Windows，而手机则是原生安卓（Pixel或者刷Pixel Experience）。可是我从没放弃过对苹果阵营的向往，我第一台智能产品是iPod Shuffle，也用过iPod Nano，之后换了iPod Touch，这是在我用任何手机前已经使用的了。我使用苹果的产品，远早于我使用任何公司的智能手机。</p><blockquote><p>当年iPod Touch上的iOS 6，以今天的标准也算得上精致。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1ga3fum39moj31900u01l1.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1ga3fum39moj31900u01l1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="第一代Pixel"></p><p>在去年开始，有个老朋友问我买不买他装了黑苹果的小米笔记本Pro，当时旧电脑发热严重，所以就想试一试，毕竟没试过macOS。macOS软件外观精致，着实让我惊艳不已（RIP，UWP）；随着时间的推移，对macOS的操作就更得心应手了。为了配合macOS，我又从我的抽屉里拿出吃灰已久的二手iPhone 7。到了今年四月下旬，上课时越发需要一个方便笔记又能系统整理的设备，询问了四周的同学和朋友后，最后决定买了当时新出的iPad Air 3——支持第一代Pencil以及Smart Keyboard。（本文就是用iPad+Keyboard敲出来的）</p><p>目前日常使用的苹果设备：</p><ol><li>iPad Air 3 (2019) + Pencil (触控笔) + Smart Keyboard (磁吸键盘)</li><li>iPhone 7 + Smart Battery Case(充电手机壳)</li><li>装了macOS的小米笔记本Pro (黑苹果)</li><li>Apple Watch Series 2</li><li>Powerbeats Wireless 3<br>还有些不是每天都用的，就不放列表里了。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1ga3gk5dttsj31900u01l0.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1ga3gk5dttsj31900u01l0.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="iPhone 和 Smart Battery Case"></p><h2 id="生态？">生态？</h2><p>你可能常常听说苹果的生态、苹果三件套，还有其他生态：</p><ol><li>苹果的 macOS + iOS</li><li>微软的 Windows + iOS/Android</li><li>谷歌的 网页端软件 + iOS/Android</li></ol><p>天下三家，以苹果家的最为完整、封闭。在英国🇬🇧，每个月激活的手机一半是iPhone，远超于第二名的三星（29%），其他西方的国家也有大同小异的市场情况。</p><p>十年前，iPhone横空出世，开创了智能手机这个品类。今天，国产手机厂商和iPhone在硬件上不再是天渊之别。</p><p>何为生态？生态吸引消费者买更多的互联产品。苹果卖的最多是iPhone，所以大部分人都是iPhone入坑。过了没多久，你就买了iPad，觉得能帮到你的学习和工作；之后看到酷安那么多人安利AirPods，遂购入之，真香。可是，为什么会这样呢？耳机的话，明明有便宜许多的TWS呀。平板——虽然iPad应用多，可是售价昂贵。原因在于大部分第三方的产品在苹果上的体验不佳，而苹果利用封闭的iOS的优势，打通了第一方产品之间的联系。</p><p>除了硬件外，苹果还利用软件服务，来增加用户粘性。iCloud、AirDrop、AirPlay让我们能在设备之间无缝切换。我在Mac上面打开了文档，可是我现在要出门，怎么办？基于iCloud和跨平台的软件，我只需要打开手机，就能打开文档，不需要微信文件分享助手或者网盘。<strong>AirPods能让我和女朋友带着各自的耳机，同时连接到她的手机上看《庆余年》。</strong></p><p>说到AirPods，当年这副耳机推出是因为iPhone 7砍了耳机口，很多iPhone 7以后的用户因此入手AirPods。昂贵的售价，并没有对销量带来影响，并非因为跟风。它的<strong>开机即连</strong>和<strong>流畅性</strong>使得它开创了TWS耳机的市场，也一直是同类产品的佼佼者。有不少人安卓手机，耳机却是AirPods，侧面反映了AirPods本身的硬件实力。可是我买苹果耳机，更多是因为一个独占的功能——AirPods能随意切换到任何登陆了同一个iCloud的设备（不需要重新配对）。这个功能，使得我能在Mac、iPhone、iPad、Apple Watch之间，随意连接。</p><p>苹果努力养成用户的行为，让他们在生态里轻松，生态外难行。在生态里，iPhone 自动就连接到AirPods 和 Watch上，如果要连接我朋友的耳机，只要两步：打开耳机盒子，按下按钮——连接完毕。在晚会上，我把我的舞伴送回宿舍楼。在楼下，利用AirDrop，我选择相片，点击AirDrop，20秒不到就把晚上所有的照片发到她手机里了。</p><p>油管著名科技up主MKBHD曾经有一集评论苹果生态（<a href="#">The 🍎 Ecosystem: Explained!</a>），他以<strong>密不透风的围城</strong>来形容这个生态。<strong>稳定性</strong>、<strong>易用性</strong>、系统逻辑的<strong>统一性</strong>，这三大特性是苹果生态高度粘性的原因。数据指出，在美国几乎一半的前安卓用户，因为想获得总体更好的用户体验，才切换到苹果的设备。</p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1gavdgstr37j30fm05kdk5.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1gavdgstr37j30fm05kdk5.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1gavdh309onj317c0p0agn.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/hayschan/oss@master/2020/11/006tNbRwgy1gavdh309onj317c0p0agn.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt=""></p><h3 id="苹果生态相比微软和谷歌的分别？">苹果生态相比微软和谷歌的分别？</h3><p>谷歌有ChromeOS，不过仍然是以网页端为发力，配合手机的系统。谷歌和微软的战略都是以装机量换广告（谷歌）或者订阅（微软），所以两家在几乎所有主流系统都有他的软件能使用。<br>从财报的数据得知，苹果的主要利润来自硬件销售，不难理解苹果设备系统封闭的原因。<br>硬件优势由差异化带来，而通过设备之间的联系，买了iPhone的人买AirPods，然后可能买iPad，所有设备的数量和设备的联动性正相关。很多人虽然用着安卓买了AirPods Pro，可是AirPods Pro的某些独有的功能，比如基于iCloud的无缝蓝牙切换，只能苹果设备之间才能使用。<br>而苹果2019发力的服务领域，则如同微软谷歌一般，Apple TV+登陆了三星的电视，Apple Music一直都有安卓客户端。<br>对各大厂商来说，构建的生态圈将会成为一个比硬件本身更具诱惑力的大生意。因为它描绘了一个<strong>看似不可思议</strong>，但却<strong>又真实存在</strong>的情况：我喜欢上这款设备带来的服务——我会继续购买产品扩展更多功能——我对这一切产生了依赖。<br>这就是生态，这就是<strong>围城</strong>。</p><h2 id="下期预告">下期预告</h2><p>我会讲述苹果生态有哪些让我无法断舍离的功能。</p>]]></content>
    
    
    <summary type="html">我曾经是一个坚定的 Windows + 原生安卓主义者，可是我从没放弃过对苹果阵营的向往。</summary>
    
    
    
    <category term="苹论" scheme="https://blog.haysc.tech/categories/%E8%8B%B9%E8%AE%BA/"/>
    
    
    <category term="Apple" scheme="https://blog.haysc.tech/tags/Apple/"/>
    
    <category term="iOS" scheme="https://blog.haysc.tech/tags/iOS/"/>
    
    <category term="ecosystem" scheme="https://blog.haysc.tech/tags/ecosystem/"/>
    
    <category term="生态" scheme="https://blog.haysc.tech/tags/%E7%94%9F%E6%80%81/"/>
    
  </entry>
  
</feed>